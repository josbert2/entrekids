"use strict";function toggleClassMenu(){myMenu.classList.add("menu--animatable"),myMenu.classList.contains("menu--visible")?myMenu.classList.remove("menu--visible"):(myMenu.classList.add("menu--visible"),document.querySelector(".ham").classList.remove("active"))}function OnTransitionEnd(){myMenu.classList.remove("menu--animatable")}!function(c){c.fn.animateCSS=function(t,i,n){return this.each(function(){var e=c(this);i&&"function"!=typeof i||(n=i,i=0);setTimeout(function(){e.addClass("animated "+t),"hidden"==e.css("visibility")&&e.css({visibility:"visible"}),e.is(":hidden")&&e.show(),e.bind("webkitAnimationEnd animationend oAnimationEnd",function(){"function"==typeof n&&n.call(this)})},i)})}}(jQuery),$(document).ready(function(){$("#main-cropper").croppie({viewport:{width:250,height:250},boundary:{width:300,height:300},showZoomer:!1,url:"../img/placeholder.png"});$(".actionUpload input").on("change",function(){!function(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#main-cropper").croppie("bind",{url:e.target.result}),$(".actionDone").toggle(),$(".actionUpload").toggle()},t.readAsDataURL(e.files[0])}}(this)}),$(".actionDone").on("click",function(){$(".actionDone").toggle(),$(".actionUpload").toggle()})}),$("#slider-range").slider({range:!0,min:360,max:1200,step:15,values:[360,1200],slide:function(e,t){var i=Math.floor(t.values[0]/60),n=t.values[0]-60*i;1==i.length&&(i="0"+i),1==n.length&&(n="0"+n),0==n&&(n="00"),12<=i?(12==i?i=i:i-=12,n+=" PM"):(i=i,n+=" AM"),0==i&&(i=12,n=n),$(".slider-time").html(i+":"+n);var c=Math.floor(t.values[1]/60),o=t.values[1]-60*c;1==c.length&&(c="0"+c),1==o.length&&(o="0"+o),0==o&&(o="00"),12<=c?12==c?(c=c,o+=" PM"):24==c?(c=11,o="59 PM"):(c-=12,o+=" PM"):(c=c,o+=" AM"),$(".slider-time2").html(c+":"+o)}});var myMenu=document.querySelector(".menu"),clsMenu=document.querySelector(".header-mobile"),oppMenu=document.querySelector(".ham");function toggleFilter(){filterBtn.classList.contains("active-filter")?(filterBtn.classList.remove("active-filter"),icon_filter.classList.remove("rotate-icon")):(filterBtn.classList.add("active-filter"),icon_filter.classList.add("rotate-icon"),$(".btn-button-filter").click(function(){$("html, body").animate({scrollTop:$(".filter-btn").offset().top},100)}))}oppMenu.addEventListener("click",toggleClassMenu,!1),clsMenu.addEventListener("click",toggleClassMenu,!1);var myFilter=document.querySelector(".btn-button-filter"),filterBtn=document.querySelector(".filter-btn"),icon_filter=document.querySelector(".btn-button-filter");myFilter.addEventListener("click",toggleFilter,!1),$(function(){var e=function(e,t){this.el=e||{},this.multiple=t||!1;var i=this.el.find(".item-collapse");i.click(function(){$(this).toggleClass("rotate-icon")}),i.on("click",{el:this.el,multiple:this.multiple},this.dropdown)};e.prototype.dropdown=function(e){var t=e.data.el,i=$(this),n=i.next();n.slideToggle(),i.parent().toggleClass("open"),e.data.multiple||t.find(".collapse-content").not(n).slideUp().parent().removeClass("open")};new e($(".collapse"),!0);$("label").on("change",function(){$(this).siblings('input[type="checkbox"]').not(this).prop("checked",!1)})}),$("#slider-range-price").slider({range:!0,min:0,max:500,values:[0,99999],slide:function(e,t){$("#amount .price-one").val("$"+t.values[0]),$("#amount .second-one").val("$"+t.values[1])}});var header=$(".filter-section"),headerTwo=$("#main-fixed-nav"),card_content=$(".filter-btn");function checkUbicacion(){var e=!1;if($('label[data-id="ubicacion"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-clear").css("display","block"))}),0==e)return $(".btn-clear").css("display","none"),!1}function checkedad(){var e=!1;if($('label[data-id="edad"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-edad").css("display","block"))}),0==e)return $(".btn-edad").css("display","none"),!1}function checkcategoria(){var e=!1;if($('label[data-id="categoria"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-categoria").css("display","block"))}),0==e)return $(".btn-categoria").css("display","none"),!1}function checkprecios(){var e=!1;if($('label[data-id="precios"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-precios").css("display","block"))}),0==e)return $(".btn-precios").css("display","none"),!1}function checkprover(){var e=!1;if($('label[data-id="prover"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-prover").css("display","block"))}),0==e)return $(".btn-prover").css("display","none"),!1}function checkanother(){var e=!1;if($('label[data-id="another"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-another").css("display","block"))}),0==e)return $(".btn-another").css("display","none"),!1}if($(window).scroll(function(){200<=$(window).scrollTop()?(header.addClass("fixed"),headerTwo.addClass("styki")):(header.removeClass("fixed"),headerTwo.removeClass("styki"))}),$(".btn-button-filter").click(function(){$("input[type=checkbox]").each(function(){if($(this).is(":checked"))return $(".btn-button-filter").addClass("activeckeck"),!1;$(".btn-button-filter").removeClass("activeckeck")})}),$("label[data-id='ubicacion'] input[type=checkbox]").click(function(){checkUbicacion()}),$("label[data-id='edad'] input[type=checkbox]").click(function(){checkedad()}),$("label[data-id='categoria'] input[type=checkbox]").click(function(){checkcategoria()}),$("label[data-id='precios'] input[type=checkbox]").click(function(){checkprecios()}),$("label[data-id='prover'] input[type=checkbox]").click(function(){checkprover()}),$("label[data-id='another'] input[type=checkbox]").click(function(){checkanother()}),$(window).width()<768){var btnFilter=function(){var e=!1;$("input[type=checkbox]").each(function(){$(this).is(":checked")&&(e=!0,$(".btn-simple").css("display","block"),$(".btn-simple").addClass("btn-floating"))}),0==e&&($(".btn-simple").css("display","none"),$(".btn-simple").removeClass("btn-floating"))};$("input[type=checkbox]").click(function(){btnFilter()})}if($(".content-view").length){var product=$(".product-view"),item=$(".span-thumbail");item.click(function(e){var t=$(this).css("background-image");t=t.replace("url(","").replace(")",""),product.attr("src",t.replace(/['"]+/g,""))})}if($(".name")){var myFunction=function(){document.getElementById("myDropdown").classList.toggle("show")};$(".name").click(function(){myFunction()})}function chooseFile(){document.getElementById("file").click()}$("#file").length&&document.querySelector("#file").addEventListener("change",function(e){var t=e.target.files;console.log(t);var i=t[0],n=URL.createObjectURL(i);document.querySelector(".null-img").style.backgroundImage="url('"+n+"')",document.getElementById("img-des").innerHTML=document.getElementById("file").files[0].name}),$(".btn-simple").click(function(){$(".filter-btn").hasClass("active-filter")?$(".btn-button-filter").click():alert("msg")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwiYW5pbWF0ZS5qcyJdLCJuYW1lcyI6WyJ0b2dnbGVDbGFzc01lbnUiLCJteU1lbnUiLCJjbGFzc0xpc3QiLCJhZGQiLCJjb250YWlucyIsInJlbW92ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIk9uVHJhbnNpdGlvbkVuZCIsIiQiLCJmbiIsImFuaW1hdGVDU1MiLCJlZmZlY3QiLCJkZWxheSIsImNhbGxiYWNrIiwidGhpcyIsImVhY2giLCIkdGhpcyIsInNldFRpbWVvdXQiLCJhZGRDbGFzcyIsImNzcyIsInZpc2liaWxpdHkiLCJpcyIsInNob3ciLCJiaW5kIiwiY2FsbCIsImpRdWVyeSIsInJlYWR5IiwiY3JvcHBpZSIsInZpZXdwb3J0Iiwid2lkdGgiLCJoZWlnaHQiLCJib3VuZGFyeSIsInNob3dab29tZXIiLCJ1cmwiLCJvbiIsImlucHV0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZSIsInRhcmdldCIsInJlc3VsdCIsInRvZ2dsZSIsInJlYWRBc0RhdGFVUkwiLCJyZWFkRmlsZSIsInNsaWRlciIsInJhbmdlIiwibWluIiwibWF4Iiwic3RlcCIsInZhbHVlcyIsInNsaWRlIiwidWkiLCJob3VyczEiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzMSIsImxlbmd0aCIsImh0bWwiLCJob3VyczIiLCJtaW51dGVzMiIsImNsc01lbnUiLCJvcHBNZW51IiwidG9nZ2xlRmlsdGVyIiwiZmlsdGVyQnRuIiwiaWNvbl9maWx0ZXIiLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJhZGRFdmVudExpc3RlbmVyIiwibXlGaWx0ZXIiLCJBY2NvcmRpb24iLCJlbCIsIm11bHRpcGxlIiwibGlua3MiLCJmaW5kIiwidG9nZ2xlQ2xhc3MiLCJkcm9wZG93biIsInByb3RvdHlwZSIsIiRlbCIsImRhdGEiLCIkbmV4dCIsIm5leHQiLCJzbGlkZVRvZ2dsZSIsInBhcmVudCIsIm5vdCIsInNsaWRlVXAiLCJyZW1vdmVDbGFzcyIsInNpYmxpbmdzIiwicHJvcCIsImV2ZW50IiwidmFsIiwiaGVhZGVyIiwiaGVhZGVyVHdvIiwiY2FyZF9jb250ZW50IiwiY2hlY2tVYmljYWNpb24iLCJhbnlCb3hlc0NoZWNrZWQiLCJjaGVja2VkYWQiLCJjaGVja2NhdGVnb3JpYSIsImNoZWNrcHJlY2lvcyIsImNoZWNrcHJvdmVyIiwiY2hlY2thbm90aGVyIiwid2luZG93Iiwic2Nyb2xsIiwiYnRuRmlsdGVyIiwiaXNGYWxzZSIsInByb2R1Y3QiLCJpdGVtIiwiZXYiLCJiZyIsInJlcGxhY2UiLCJhdHRyIiwibXlGdW5jdGlvbiIsImdldEVsZW1lbnRCeUlkIiwiY2hvb3NlRmlsZSIsImNvbnNvbGUiLCJsb2ciLCJpbWFnZSIsImltYWdlVVJMIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJpbm5lckhUTUwiLCJuYW1lIiwiaGFzQ2xhc3MiLCJhbGVydCJdLCJtYXBwaW5ncyI6ImFBd0dBLFNBQUFBLGtCQUNBQyxPQUFBQyxVQUFBQyxJQUFBLG9CQUNBRixPQUFBQyxVQUFBRSxTQUFBLGlCQUtBSCxPQUFBQyxVQUFBRyxPQUFBLGtCQUpBSixPQUFBQyxVQUFBQyxJQUFBLGlCQUNBRyxTQUFBQyxjQUFBLFFBQUFMLFVBQUFHLE9BQUEsV0FPQSxTQUFBRyxrQkFDQVAsT0FBQUMsVUFBQUcsT0FBQSxxQkNwSEEsU0FBQUksR0FFQUEsRUFBQUMsR0FBQUMsV0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUdBLE9BQUFDLEtBQUFDLEtBQUEsV0FHQSxJQUFBQyxFQUFBUixFQUFBTSxNQUdBRixHQUFBLG1CQUFBQSxJQUdBQyxFQUFBRCxFQUdBQSxFQUFBLEdBSUFLLFdBQUEsV0FHQUQsRUFBQUUsU0FBQSxZQUFBUCxHQUdBLFVBQUFLLEVBQUFHLElBQUEsZUFHQUgsRUFBQUcsSUFBQSxDQUNBQyxXQUFBLFlBTUFKLEVBQUFLLEdBQUEsWUFHQUwsRUFBQU0s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QUFBTSxNQUFBSyxJQUFBLG9CQUNBNkYsRUFBQUEsRUFBQUMsUUFBQSxPQUFBLElBQUFBLFFBQUEsSUFBQSxJQUdBSixRQUFBSyxLQUFBLE1BQUFGLEVBQUFDLFFBQUEsU0FBQSxPQWFBLEdBQUF6RyxFQUFBLFNBQUEsQ0FBQSxJQUVBMkcsV0FBQSxXQUNBOUcsU0FBQStHLGVBQUEsY0FBQW5ILFVBQUEwQyxPQUFBLFNBSUFuQyxFQUFBLFNBQUEyRCxNQUFBLFdBQ0FnRCxlQVFBLFNBQUFFLGFBQ0FoSCxTQUFBK0csZUFBQSxRQUFBakQsUUFJQTNELEVBQUEsU0FBQWtELFFBQ0FyRCxTQUFBQyxjQUFBLFNBQ0FrRSxpQkFBQSxTQUFBLFNBQUF1QyxHQUNBLElBQUEzRSxFQUFBMkUsRUFBQXRFLE9BQUFMLE1BQ0FrRixRQUFBQyxJQUFBbkYsR0FDQSxJQUFBb0YsRUFBQXBGLEVBQUEsR0FDQXFGLEVBQUFDLElBQUFDLGdCQUFBSCxHQUNBbkgsU0FBQUMsY0FBQSxhQUNBc0gsTUFBQUMsZ0JBQUEsUUFBQUosRUFBQSxLQUNBcEgsU0FBQStHLGVBQUEsV0FBQVUsVUFBQXpILFNBQUErRyxlQUFBLFFBQUFoRixNQUFBLEdBQUEyRixPQWdCQXZILEVBQUEsZUFBQTJELE1BQUEsV0FDQTNELEVBQUEsZUFBQXdILFNBQUEsaUJBQ0F4SCxFQUFBLHNCQUFBMkQsUUFFQThELE1BQUEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIENyb3BwaWVcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgdmFyIGJhc2ljID0gJCgnI21haW4tY3JvcHBlcicpLmNyb3BwaWUoe1xyXG4gICAgdmlld3BvcnQ6IHsgd2lkdGg6IDI1MCwgaGVpZ2h0OiAyNTAgfSxcclxuICAgIGJvdW5kYXJ5OiB7IHdpZHRoOiAzMDAsIGhlaWdodDogMzAwIH0sXHJcbiAgICBzaG93Wm9vbWVyOiBmYWxzZSxcclxuICAgIHVybDogJy4uL2ltZy9wbGFjZWhvbGRlci5wbmcnXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gcmVhZEZpbGUoaW5wdXQpIHtcclxuICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcclxuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG5cclxuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAkKCcjbWFpbi1jcm9wcGVyJykuY3JvcHBpZSgnYmluZCcsIHtcclxuICAgICAgICB1cmw6IGUudGFyZ2V0LnJlc3VsdFxyXG4gICAgICB9KTtcclxuICAgICAgJCgnLmFjdGlvbkRvbmUnKS50b2dnbGUoKTtcclxuICAgICAgJCgnLmFjdGlvblVwbG9hZCcpLnRvZ2dsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0LmZpbGVzWzBdKTtcclxuICB9XHJcbn1cclxuXHJcbiQoJy5hY3Rpb25VcGxvYWQgaW5wdXQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkgeyByZWFkRmlsZSh0aGlzKTsgfSk7XHJcbiQoJy5hY3Rpb25Eb25lJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAkKCcuYWN0aW9uRG9uZScpLnRvZ2dsZSgpO1xyXG4gICQoJy5hY3Rpb25VcGxvYWQnKS50b2dnbGUoKTtcclxufSlcclxufSlcclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgUmFuZ2UgU2xpZGVyXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcbiQoXCIjc2xpZGVyLXJhbmdlXCIpLnNsaWRlcih7XHJcbiAgICByYW5nZTogdHJ1ZSxcclxuICAgIG1pbjogMzYwLFxyXG4gICAgbWF4OiAxMjAwLFxyXG4gICAgc3RlcDogMTUsXHJcbiAgICB2YWx1ZXM6IFszNjAsIDEyMDBdLFxyXG4gICAgc2xpZGU6IGZ1bmN0aW9uIChlLCB1aSkge1xyXG4gICAgICAgIHZhciBob3VyczEgPSBNYXRoLmZsb29yKHVpLnZhbHVlc1swXSAvIDYwKTtcclxuICAgICAgICB2YXIgbWludXRlczEgPSB1aS52YWx1ZXNbMF0gLSAoaG91cnMxICogNjApO1xyXG5cclxuICAgICAgICBpZiAoaG91cnMxLmxlbmd0aCA9PSAxKSBob3VyczEgPSAnMCcgKyBob3VyczE7XHJcbiAgICAgICAgaWYgKG1pbnV0ZXMxLmxlbmd0aCA9PSAxKSBtaW51dGVzMSA9ICcwJyArIG1pbnV0ZXMxO1xyXG4gICAgICAgIGlmIChtaW51dGVzMSA9PSAwKSBtaW51dGVzMSA9ICcwMCc7XHJcbiAgICAgICAgaWYgKGhvdXJzMSA+PSAxMikge1xyXG4gICAgICAgICAgICBpZiAoaG91cnMxID09IDEyKSB7XHJcbiAgICAgICAgICAgICAgICBob3VyczEgPSBob3VyczE7XHJcbiAgICAgICAgICAgICAgICBtaW51dGVzMSA9IG1pbnV0ZXMxICsgXCIgUE1cIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhvdXJzMSA9IGhvdXJzMSAtIDEyO1xyXG4gICAgICAgICAgICAgICAgbWludXRlczEgPSBtaW51dGVzMSArIFwiIFBNXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBob3VyczEgPSBob3VyczE7XHJcbiAgICAgICAgICAgIG1pbnV0ZXMxID0gbWludXRlczEgKyBcIiBBTVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaG91cnMxID09IDApIHtcclxuICAgICAgICAgICAgaG91cnMxID0gMTI7XHJcbiAgICAgICAgICAgIG1pbnV0ZXMxID0gbWludXRlczE7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgICQoJy5zbGlkZXItdGltZScpLmh0bWwoaG91cnMxICsgJzonICsgbWludXRlczEpO1xyXG5cclxuICAgICAgICB2YXIgaG91cnMyID0gTWF0aC5mbG9vcih1aS52YWx1ZXNbMV0gLyA2MCk7XHJcbiAgICAgICAgdmFyIG1pbnV0ZXMyID0gdWkudmFsdWVzWzFdIC0gKGhvdXJzMiAqIDYwKTtcclxuXHJcbiAgICAgICAgaWYgKGhvdXJzMi5sZW5ndGggPT0gMSkgaG91cnMyID0gJzAnICsgaG91cnMyO1xyXG4gICAgICAgIGlmIChtaW51dGVzMi5sZW5ndGggPT0gMSkgbWludXRlczIgPSAnMCcgKyBtaW51dGVzMjtcclxuICAgICAgICBpZiAobWludXRlczIgPT0gMCkgbWludXRlczIgPSAnMDAnO1xyXG4gICAgICAgIGlmIChob3VyczIgPj0gMTIpIHtcclxuICAgICAgICAgICAgaWYgKGhvdXJzMiA9PSAxMikge1xyXG4gICAgICAgICAgICAgICAgaG91cnMyID0gaG91cnMyO1xyXG4gICAgICAgICAgICAgICAgbWludXRlczIgPSBtaW51dGVzMiArIFwiIFBNXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaG91cnMyID09IDI0KSB7XHJcbiAgICAgICAgICAgICAgICBob3VyczIgPSAxMTtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMyID0gXCI1OSBQTVwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaG91cnMyID0gaG91cnMyIC0gMTI7XHJcbiAgICAgICAgICAgICAgICBtaW51dGVzMiA9IG1pbnV0ZXMyICsgXCIgUE1cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGhvdXJzMiA9IGhvdXJzMjtcclxuICAgICAgICAgICAgbWludXRlczIgPSBtaW51dGVzMiArIFwiIEFNXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKCcuc2xpZGVyLXRpbWUyJykuaHRtbChob3VyczIgKyAnOicgKyBtaW51dGVzMik7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIE1vYmlsZSBNZW51XHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcbmZ1bmN0aW9uIHRvZ2dsZUNsYXNzTWVudSgpIHtcclxuICAgIG15TWVudS5jbGFzc0xpc3QuYWRkKFwibWVudS0tYW5pbWF0YWJsZVwiKTsgICBcclxuICAgIGlmKCFteU1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWVudS0tdmlzaWJsZVwiKSkgeyAgICAgICBcclxuICAgICAgICBteU1lbnUuY2xhc3NMaXN0LmFkZChcIm1lbnUtLXZpc2libGVcIik7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oYW1cIikuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG15TWVudS5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LS12aXNpYmxlJyk7ICAgICAgIFxyXG4gICAgfSAgIFxyXG59XHJcblxyXG5mdW5jdGlvbiBPblRyYW5zaXRpb25FbmQoKSB7XHJcbiAgICBteU1lbnUuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnUtLWFuaW1hdGFibGVcIik7XHJcbn1cclxuXHJcbnZhciBteU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVcIik7XHJcbnZhciBjbHNNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItbW9iaWxlXCIpO1xyXG52YXIgb3BwTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtXCIpO1xyXG5cclxub3BwTWVudS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlQ2xhc3NNZW51LCBmYWxzZSk7XHJcbmNsc01lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZUNsYXNzTWVudSwgZmFsc2UpO1xyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBCdG4gRmlsdGVyXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcbmZ1bmN0aW9uIHRvZ2dsZUZpbHRlcigpIHtcclxuICAgIGlmKCFmaWx0ZXJCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLWZpbHRlclwiKSkgeyAgICAgICBcclxuICAgICAgICBmaWx0ZXJCdG4uY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1maWx0ZXJcIik7XHJcbiAgICAgICAgaWNvbl9maWx0ZXIuY2xhc3NMaXN0LmFkZCgncm90YXRlLWljb24nKTtcclxuICAgICAgICAkKCcuYnRuLWJ1dHRvbi1maWx0ZXInKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgIHNjcm9sbFRvcDogJChcIi5maWx0ZXItYnRuXCIpLm9mZnNldCgpLnRvcFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAxMDApO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgXHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAgZmlsdGVyQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1maWx0ZXInKTtcclxuICAgICAgICAgaWNvbl9maWx0ZXIuY2xhc3NMaXN0LnJlbW92ZSgncm90YXRlLWljb24nKTsgICAgICAgXHJcbiAgICB9ICAgXHJcbn1cclxudmFyIG15RmlsdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi1idXR0b24tZmlsdGVyJyk7XHJcbnZhciBmaWx0ZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyLWJ0bicpO1xyXG52YXIgaWNvbl9maWx0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWJ1dHRvbi1maWx0ZXInKTtcclxuXHJcbm15RmlsdGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVGaWx0ZXIsIGZhbHNlKTtcclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgQ29sbGFwc2UgRmlsdGVyXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG4kKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIEFjY29yZGlvbiA9IGZ1bmN0aW9uKGVsLCBtdWx0aXBsZSkge1xyXG4gICAgICAgIHRoaXMuZWwgPSBlbCB8fCB7fTtcclxuICAgICAgICB0aGlzLm11bHRpcGxlID0gbXVsdGlwbGUgfHwgZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBsaW5rcyA9IHRoaXMuZWwuZmluZCgnLml0ZW0tY29sbGFwc2UnKTtcclxuICAgICAgICBsaW5rcy5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygncm90YXRlLWljb24nKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxpbmtzLm9uKCdjbGljaycsIHtcclxuXHJcbiAgICAgICAgICAgIGVsOiB0aGlzLmVsLFxyXG4gICAgICAgICAgICBtdWx0aXBsZTogdGhpcy5tdWx0aXBsZVxyXG4gICAgICAgIH0sIHRoaXMuZHJvcGRvd24pXHJcbiAgICB9XHJcblxyXG4gICAgQWNjb3JkaW9uLnByb3RvdHlwZS5kcm9wZG93biA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgJGVsID0gZS5kYXRhLmVsO1xyXG4gICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgbGV0ICRuZXh0ID0gJHRoaXMubmV4dCgpO1xyXG5cclxuICAgICAgICAkbmV4dC5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgICAgICR0aGlzLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XHJcblxyXG4gICAgICAgIGlmICghZS5kYXRhLm11bHRpcGxlKSB7XHJcbiAgICAgICAgICAgICRlbC5maW5kKCcuY29sbGFwc2UtY29udGVudCcpLm5vdCgkbmV4dCkuc2xpZGVVcCgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHZhciBhY2NvcmRpb24gPSBuZXcgQWNjb3JkaW9uKCQoJy5jb2xsYXBzZScpLCB0cnVlKTtcclxuXHJcbiAgICAkKCdsYWJlbCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgJCh0aGlzKS5zaWJsaW5ncygnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykubm90KHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgU2xpZGVyIFByaWNlXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcbiQoIFwiI3NsaWRlci1yYW5nZS1wcmljZVwiICkuc2xpZGVyKHtcclxuICAgICAgcmFuZ2U6IHRydWUsXHJcbiAgICAgIG1pbjogMCxcclxuICAgICAgbWF4OiA1MDAsXHJcbiAgICAgIHZhbHVlczogWyAwLCA5OTk5OSBdLFxyXG4gICAgICBzbGlkZTogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcclxuICAgICAgICAkKCBcIiNhbW91bnQgLnByaWNlLW9uZVwiICkudmFsKFwiJFwiICsgdWkudmFsdWVzWyAwIF0pO1xyXG4gICAgICAgICAkKCBcIiNhbW91bnQgLnNlY29uZC1vbmVcIiApLnZhbChcIiRcIiArIHVpLnZhbHVlc1sgMSBdICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBNb2RhbFxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEpTIFNjcm9sbCBCdG4gRklsdGVyXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG5cclxuXHJcbnZhciBoZWFkZXIgPSAkKFwiLmZpbHRlci1zZWN0aW9uXCIpO1xyXG52YXIgaGVhZGVyVHdvID0gJCgnI21haW4tZml4ZWQtbmF2JylcclxubGV0IGNhcmRfY29udGVudCA9ICQoJy5maWx0ZXItYnRuJyk7XHJcbiAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsgICAgXHJcbiAgICB2YXIgc2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgaWYgKHNjcm9sbCA+PSAyMDApIHtcclxuICAgICAgICAgIGhlYWRlci5hZGRDbGFzcyhcImZpeGVkXCIpO1xyXG4gICAgICAgICAgaGVhZGVyVHdvLmFkZENsYXNzKCdzdHlraScpXHJcbiAgICAgICAgICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaGVhZGVyLnJlbW92ZUNsYXNzKFwiZml4ZWRcIik7XHJcbiAgICAgICAgICBoZWFkZXJUd28ucmVtb3ZlQ2xhc3MoJ3N0eWtpJylcclxuICAgICAgICB9XHJcbn0pXHJcblxyXG4gIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgQ2hlY2tib3ggQWN0aXZlXHJcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuIFxyXG4gICBcclxuJCgnLmJ0bi1idXR0b24tZmlsdGVyJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHtcclxuICAgICAgICAgICAgJCgnLmJ0bi1idXR0b24tZmlsdGVyJykuYWRkQ2xhc3MoJ2FjdGl2ZWNrZWNrJyk7XHJcbiAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgJCgnLmJ0bi1idXR0b24tZmlsdGVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZWNrZWNrJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG4kKFwibGFiZWxbZGF0YS1pZD0ndWJpY2FjaW9uJ10gaW5wdXRbdHlwZT1jaGVja2JveF1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiBjaGVja1ViaWNhY2lvbigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrVWJpY2FjaW9uKCkge1xyXG4gICAgdmFyIGFueUJveGVzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgJCgnbGFiZWxbZGF0YS1pZD1cInViaWNhY2lvblwiXSBpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICBhbnlCb3hlc0NoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAkKCcuYnRuLWNsZWFyJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLWNsZWFyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IFxyXG59XHJcblxyXG4kKFwibGFiZWxbZGF0YS1pZD0nZWRhZCddIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gY2hlY2tlZGFkKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2hlY2tlZGFkKCkge1xyXG4gICAgdmFyIGFueUJveGVzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgJCgnbGFiZWxbZGF0YS1pZD1cImVkYWRcIl0gaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuICAgICAgICAgICAgYW55Qm94ZXNDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgJCgnLmJ0bi1lZGFkJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLWVkYWQnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gXHJcbn1cclxuXHJcbiQoXCJsYWJlbFtkYXRhLWlkPSdjYXRlZ29yaWEnXSBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuIGNoZWNrY2F0ZWdvcmlhKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2hlY2tjYXRlZ29yaWEoKSB7XHJcbiAgICB2YXIgYW55Qm94ZXNDaGVja2VkID0gZmFsc2U7XHJcbiAgICAkKCdsYWJlbFtkYXRhLWlkPVwiY2F0ZWdvcmlhXCJdIGlucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIGFueUJveGVzQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICQoJy5idG4tY2F0ZWdvcmlhJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLWNhdGVnb3JpYScpLmNzcygnZGlzcGxheScsICdub25lJylcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBcclxufVxyXG4kKFwibGFiZWxbZGF0YS1pZD0ncHJlY2lvcyddIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gY2hlY2twcmVjaW9zKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2hlY2twcmVjaW9zKCkge1xyXG4gICAgdmFyIGFueUJveGVzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgJCgnbGFiZWxbZGF0YS1pZD1cInByZWNpb3NcIl0gaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuICAgICAgICAgICAgYW55Qm94ZXNDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgJCgnLmJ0bi1wcmVjaW9zJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLXByZWNpb3MnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gXHJcbn1cclxuXHJcbiQoXCJsYWJlbFtkYXRhLWlkPSdwcm92ZXInXSBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuIGNoZWNrcHJvdmVyKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2hlY2twcm92ZXIoKSB7XHJcbiAgICB2YXIgYW55Qm94ZXNDaGVja2VkID0gZmFsc2U7XHJcbiAgICAkKCdsYWJlbFtkYXRhLWlkPVwicHJvdmVyXCJdIGlucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIGFueUJveGVzQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICQoJy5idG4tcHJvdmVyJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLXByb3ZlcicpLmNzcygnZGlzcGxheScsICdub25lJylcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBcclxufVxyXG5cclxuJChcImxhYmVsW2RhdGEtaWQ9J2Fub3RoZXInXSBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuIGNoZWNrYW5vdGhlcigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrYW5vdGhlcigpIHtcclxuICAgIHZhciBhbnlCb3hlc0NoZWNrZWQgPSBmYWxzZTtcclxuICAgICQoJ2xhYmVsW2RhdGEtaWQ9XCJhbm90aGVyXCJdIGlucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIGFueUJveGVzQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICQoJy5idG4tYW5vdGhlcicpLmNzcygnZGlzcGxheScsICdibG9jaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiBcclxuICAgIGlmIChhbnlCb3hlc0NoZWNrZWQgPT0gZmFsc2UpIHtcclxuICAgICBcclxuICAgICAgJCgnLmJ0bi1hbm90aGVyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IFxyXG59XHJcblxyXG5cclxuXHJcbmlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xyXG4gICQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICBidG5GaWx0ZXIoKVxyXG59KVxyXG5cclxuZnVuY3Rpb24gYnRuRmlsdGVyKCl7XHJcbiAgdmFyIGlzRmFsc2UgPSBmYWxzZVxyXG4gICQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHtcclxuICAgICAgICAgIGlzRmFsc2UgPSB0cnVlICBcclxuICAgICAgICAgICAgJCgnLmJ0bi1zaW1wbGUnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKSAgXHJcbiAgICAgICAgICAgICQoJy5idG4tc2ltcGxlJykuYWRkQ2xhc3MoJ2J0bi1mbG9hdGluZycpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICBpZiAoaXNGYWxzZSA9PSBmYWxzZSkge1xyXG5cclxuICAkKCcuYnRuLXNpbXBsZScpLmNzcygnZGlzcGxheScsICdub25lJykgXHJcbiAgJCgnLmJ0bi1zaW1wbGUnKS5yZW1vdmVDbGFzcygnYnRuLWZsb2F0aW5nJylcclxufVxyXG59XHJcbn1cclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgUHJldmlldyBJdGVtc1xyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuaWYgKCQoJy5jb250ZW50LXZpZXcnKS5sZW5ndGgpIHtcclxuICAgIGxldCBwcm9kdWN0ID0gJCgnLnByb2R1Y3QtdmlldycpO1xyXG4gICAgbGV0IGl0ZW0gPSAkKCcuc3Bhbi10aHVtYmFpbCcpO1xyXG5cclxuICAgIGl0ZW0uY2xpY2soZnVuY3Rpb24oZXYpe1xyXG4gICAgICAgbGV0IGJnID0gJCh0aGlzKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnKTtcclxuICAgICAgICAgIGJnID0gYmcucmVwbGFjZSgndXJsKCcsJycpLnJlcGxhY2UoJyknLCcnKTtcclxuXHJcbiAgICAgICAgICBcclxuICAgICAgICAgcHJvZHVjdC5hdHRyKCdzcmMnLCBiZy5yZXBsYWNlKC9bJ1wiXSsvZywgJycpKTtcclxuXHJcblxyXG4gICAgfSlcclxufWVsc2V7XHJcblxyXG59XHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIE5hdiBEcm9wXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG5pZiAoJCgnLm5hbWUnKSkge1xyXG5cclxuICAgIGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteURyb3Bkb3duXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93XCIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAkKCcubmFtZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgIG15RnVuY3Rpb24oKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBVc2VyIEF2YXRhclxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gXHJcblxyXG4gIGZ1bmN0aW9uIGNob29zZUZpbGUoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWxlXCIpLmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmICgkKCcjZmlsZScpLmxlbmd0aCkge1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZScpXHJcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24oZXYpe1xyXG4gICAgICAgICAgICBsZXQgZmlsZXMgPSBldi50YXJnZXQuZmlsZXM7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGVzKTtcclxuICAgICAgICAgICAgbGV0IGltYWdlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgIGxldCBpbWFnZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoaW1hZ2UpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubnVsbC1pbWcnKVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKCdcIisgaW1hZ2VVUkwgK1wiJylcIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZy1kZXMnKS5pbm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZScpLmZpbGVzWzBdLm5hbWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEZpeGVkIG5hdlxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuXHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEJ0biBmaWx0ZXIgYWN0aXZlXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG4kKCcuYnRuLXNpbXBsZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgaWYgKCQoJy5maWx0ZXItYnRuJykuaGFzQ2xhc3MoJ2FjdGl2ZS1maWx0ZXInKSkge1xyXG4gICAgJCgnLmJ0bi1idXR0b24tZmlsdGVyJykuY2xpY2soKVxyXG4gIH1lbHNle1xyXG4gICAgYWxlcnQoJ21zZycpO1xyXG4gIH1cclxufSkiLCIoZnVuY3Rpb24gKCQpIHtcclxuXHJcbiAgICAkLmZuLmFuaW1hdGVDU1MgPSBmdW5jdGlvbiAoZWZmZWN0LCBkZWxheSwgY2FsbGJhY2spIHtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHRoaXMgdG8gbWFpbnRhaW4gY2hhaW5hYmlsaXR5XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWNoZSAkKHRoaXMpIGZvciBzcGVlZFxyXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZGVsYXkgZXhpc3RzIG9yIGlmIGl0J3MgYSBjYWxsYmFja1xyXG4gICAgICAgICAgICBpZiAoIWRlbGF5IHx8IHR5cGVvZiBkZWxheSA9PSAnZnVuY3Rpb24nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhIGNhbGxiYWNrLCBtb3ZlIGl0IHRvIGNhbGxiYWNrIHNvIHdlIGNhbiBjYWxsIGl0IGxhdGVyXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGRlbGF5O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZGVsYXkgdG8gMCBmb3IgdGhlIHNldFRpbWVvdXRcclxuICAgICAgICAgICAgICAgIGRlbGF5ID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU3RhcnQgYSBjb3VudGVyIHNvIHdlIGNhbiBkZWxheSB0aGUgYW5pbWF0aW9uIGlmIHJlcXVpcmVkXHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGFuaW1hdGlvbiBlZmZlY3Qgd2l0aCBjbGFzc2VzXHJcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnYW5pbWF0ZWQgJyArIGVmZmVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVsZW1lbnIgaGFzIGJlZW4gaGlkZGVuIHRvIHN0YXJ0IHdpdGhcclxuICAgICAgICAgICAgICAgIGlmICgkdGhpcy5jc3MoJ3Zpc2liaWxpdHknKSA9PSAnaGlkZGVuJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCBoYXMsIHNob3cgaXQgKGFmdGVyIHRoZSBjbGFzcyBoYXMgYmVlbiBhZGRlZClcclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJpbGl0eSc6ICd2aXNpYmxlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBoaWRkZW5cclxuICAgICAgICAgICAgICAgIGlmICgkdGhpcy5pcygnOmhpZGRlbicpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgaXRcclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5zaG93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEV2ZW50IHRyaWdnZXJlZCB3aGVuIHRoZSBhbmltYXRpb24gaGFzIGZpbmlzaGVkXHJcbiAgICAgICAgICAgICAgICAkdGhpcy5iaW5kKCd3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kIG9BbmltYXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIGNhbGxiYWNrIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTcGVjaWZ5IHRoZSBkZWxheVxyXG4gICAgICAgICAgICB9LCBkZWxheSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG59KShqUXVlcnkpOyJdfQ==
