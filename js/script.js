"use strict";function toggleClassMenu(){myMenu.classList.add("menu--animatable"),myMenu.classList.contains("menu--visible")?myMenu.classList.remove("menu--visible"):(myMenu.classList.add("menu--visible"),document.querySelector(".ham").classList.remove("active"))}function OnTransitionEnd(){myMenu.classList.remove("menu--animatable")}!function(c){c.fn.animateCSS=function(t,i,n){return this.each(function(){var e=c(this);i&&"function"!=typeof i||(n=i,i=0);setTimeout(function(){e.addClass("animated "+t),"hidden"==e.css("visibility")&&e.css({visibility:"visible"}),e.is(":hidden")&&e.show(),e.bind("webkitAnimationEnd animationend oAnimationEnd",function(){"function"==typeof n&&n.call(this)})},i)})}}(jQuery),$("#slider-range").slider({range:!0,min:360,max:1200,step:15,values:[360,1200],slide:function(e,t){var i=Math.floor(t.values[0]/60),n=t.values[0]-60*i;1==i.length&&(i="0"+i),1==n.length&&(n="0"+n),0==n&&(n="00"),12<=i?(12==i?i=i:i-=12,n+=" PM"):(i=i,n+=" AM"),0==i&&(i=12,n=n),$(".slider-time").html(i+":"+n);var c=Math.floor(t.values[1]/60),a=t.values[1]-60*c;1==c.length&&(c="0"+c),1==a.length&&(a="0"+a),0==a&&(a="00"),12<=c?12==c?(c=c,a+=" PM"):24==c?(c=11,a="59 PM"):(c-=12,a+=" PM"):(c=c,a+=" AM"),$(".slider-time2").html(c+":"+a)}});var myMenu=document.querySelector(".menu"),clsMenu=document.querySelector(".header-mobile"),oppMenu=document.querySelector(".ham");function toggleFilter(){filterBtn.classList.contains("active-filter")?(filterBtn.classList.remove("active-filter"),icon_filter.classList.remove("rotate-icon")):(filterBtn.classList.add("active-filter"),icon_filter.classList.add("rotate-icon"),$(".btn-button-filter").click(function(){$("html, body").animate({scrollTop:$(".filter-btn").offset().top},100)}))}oppMenu.addEventListener("click",toggleClassMenu,!1),clsMenu.addEventListener("click",toggleClassMenu,!1);var myFilter=document.querySelector(".btn-button-filter"),filterBtn=document.querySelector(".filter-btn"),icon_filter=document.querySelector(".btn-button-filter");myFilter.addEventListener("click",toggleFilter,!1),$(function(){var e=function(e,t){this.el=e||{},this.multiple=t||!1;var i=this.el.find(".item-collapse");i.click(function(){$(this).toggleClass("rotate-icon")}),i.on("click",{el:this.el,multiple:this.multiple},this.dropdown)};e.prototype.dropdown=function(e){var t=e.data.el,i=$(this),n=i.next();n.slideToggle(),i.parent().toggleClass("open"),e.data.multiple||t.find(".collapse-content").not(n).slideUp().parent().removeClass("open")};new e($(".collapse"),!0);$("label").on("change",function(){$(this).siblings('input[type="checkbox"]').not(this).prop("checked",!1)})}),$("#slider-range-price").slider({range:!0,min:0,max:500,values:[0,99999],slide:function(e,t){$("#amount .price-one").val("$"+t.values[0]),$("#amount .second-one").val("$"+t.values[1])}});var header=$(".filter-section"),headerTwo=$("#main-fixed-nav"),card_content=$(".filter-btn");function checkUbicacion(){var e=!1;if($('label[data-id="ubicacion"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-clear").css("display","block"))}),0==e)return $(".btn-clear").css("display","none"),!1}function checkedad(){var e=!1;if($('label[data-id="edad"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-edad").css("display","block"))}),0==e)return $(".btn-edad").css("display","none"),!1}function checkcategoria(){var e=!1;if($('label[data-id="categoria"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-categoria").css("display","block"))}),0==e)return $(".btn-categoria").css("display","none"),!1}function checkprecios(){var e=!1;if($('label[data-id="precios"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-precios").css("display","block"))}),0==e)return $(".btn-precios").css("display","none"),!1}function checkprover(){var e=!1;if($('label[data-id="prover"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-prover").css("display","block"))}),0==e)return $(".btn-prover").css("display","none"),!1}function checkanother(){var e=!1;if($('label[data-id="another"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-another").css("display","block"))}),0==e)return $(".btn-another").css("display","none"),!1}if($(window).scroll(function(){200<=$(window).scrollTop()?(header.addClass("fixed"),headerTwo.addClass("styki")):(header.removeClass("fixed"),headerTwo.removeClass("styki"))}),$(".btn-button-filter").click(function(){$("input[type=checkbox]").each(function(){if($(this).is(":checked"))return $(".btn-button-filter").addClass("activeckeck"),!1;$(".btn-button-filter").removeClass("activeckeck")})}),$("label[data-id='ubicacion'] input[type=checkbox]").click(function(){checkUbicacion()}),$("label[data-id='edad'] input[type=checkbox]").click(function(){checkedad()}),$("label[data-id='categoria'] input[type=checkbox]").click(function(){checkcategoria()}),$("label[data-id='precios'] input[type=checkbox]").click(function(){checkprecios()}),$("label[data-id='prover'] input[type=checkbox]").click(function(){checkprover()}),$("label[data-id='another'] input[type=checkbox]").click(function(){checkanother()}),$(window).width()<768){var btnFilter=function(){var e=!1;$("input[type=checkbox]").each(function(){$(this).is(":checked")&&(e=!0,$(".btn-simple").css("display","block"),$(".btn-simple").addClass("btn-floating"))}),0==e&&($(".btn-simple").css("display","none"),$(".btn-simple").removeClass("btn-floating"))};$("input[type=checkbox]").click(function(){btnFilter()})}if($(".content-view").length){var product=$(".product-view"),item=$(".span-thumbail");item.click(function(e){var t=$(this).css("background-image");t=t.replace("url(","").replace(")",""),product.attr("src",t.replace(/['"]+/g,""))})}if($(".name")){var myFunction=function(){document.getElementById("myDropdown").classList.toggle("show")};$(".name").click(function(){myFunction()})}function chooseFile(){document.getElementById("file").click()}$("#file").length&&document.querySelector("#file").addEventListener("change",function(e){var t=e.target.files;console.log(t);var i=t[0],n=URL.createObjectURL(i);document.querySelector(".null-img").style.backgroundImage="url('"+n+"')",document.getElementById("img-des").innerHTML=document.getElementById("file").files[0].name}),$(".btn-simple").click(function(){$(".filter-btn").hasClass("active-filter")?$(".btn-button-filter").click():alert("msg")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwiYW5pbWF0ZS5qcyJdLCJuYW1lcyI6WyJ0b2dnbGVDbGFzc01lbnUiLCJteU1lbnUiLCJjbGFzc0xpc3QiLCJhZGQiLCJjb250YWlucyIsInJlbW92ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIk9uVHJhbnNpdGlvbkVuZCIsIiQiLCJmbiIsImFuaW1hdGVDU1MiLCJlZmZlY3QiLCJkZWxheSIsImNhbGxiYWNrIiwidGhpcyIsImVhY2giLCIkdGhpcyIsInNldFRpbWVvdXQiLCJhZGRDbGFzcyIsImNzcyIsInZpc2liaWxpdHkiLCJpcyIsInNob3ciLCJiaW5kIiwiY2FsbCIsImpRdWVyeSIsInNsaWRlciIsInJhbmdlIiwibWluIiwibWF4Iiwic3RlcCIsInZhbHVlcyIsInNsaWRlIiwiZSIsInVpIiwiaG91cnMxIiwiTWF0aCIsImZsb29yIiwibWludXRlczEiLCJsZW5ndGgiLCJodG1sIiwiaG91cnMyIiwibWludXRlczIiLCJjbHNNZW51Iiwib3BwTWVudSIsInRvZ2dsZUZpbHRlciIsImZpbHRlckJ0biIsImljb25fZmlsdGVyIiwiY2xpY2siLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm15RmlsdGVyIiwiQWNjb3JkaW9uIiwiZWwiLCJtdWx0aXBsZSIsImxpbmtzIiwiZmluZCIsInRvZ2dsZUNsYXNzIiwib24iLCJkcm9wZG93biIsInByb3RvdHlwZSIsIiRlbCIsImRhdGEiLCIkbmV4dCIsIm5leHQiLCJzbGlkZVRvZ2dsZSIsInBhcmVudCIsIm5vdCIsInNsaWRlVXAiLCJyZW1vdmVDbGFzcyIsInNpYmxpbmdzIiwicHJvcCIsImV2ZW50IiwidmFsIiwiaGVhZGVyIiwiaGVhZGVyVHdvIiwiY2FyZF9jb250ZW50IiwiY2hlY2tVYmljYWNpb24iLCJhbnlCb3hlc0NoZWNrZWQiLCJjaGVja2VkYWQiLCJjaGVja2NhdGVnb3JpYSIsImNoZWNrcHJlY2lvcyIsImNoZWNrcHJvdmVyIiwiY2hlY2thbm90aGVyIiwid2luZG93Iiwic2Nyb2xsIiwid2lkdGgiLCJidG5GaWx0ZXIiLCJpc0ZhbHNlIiwicHJvZHVjdCIsIml0ZW0iLCJldiIsImJnIiwicmVwbGFjZSIsImF0dHIiLCJteUZ1bmN0aW9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b2dnbGUiLCJjaG9vc2VGaWxlIiwiZmlsZXMiLCJ0YXJnZXQiLCJjb25zb2xlIiwibG9nIiwiaW1hZ2UiLCJpbWFnZVVSTCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiaW5uZXJIVE1MIiwibmFtZSIsImhhc0NsYXNzIiwiYWxlcnQiXSwibWFwcGluZ3MiOiJhQXNFQSxTQUFBQSxrQkFDQUMsT0FBQUMsVUFBQUMsSUFBQSxvQkFDQUYsT0FBQUMsVUFBQUUsU0FBQSxpQkFLQUgsT0FBQUMsVUFBQUcsT0FBQSxrQkFKQUosT0FBQUMsVUFBQUMsSUFBQSxpQkFDQUcsU0FBQUMsY0FBQSxRQUFBTCxVQUFBRyxPQUFBLFdBT0EsU0FBQUcsa0JBQ0FQLE9BQUFDLFVBQUFHLE9BQUEscUJDbEZBLFNBQUFJLEdBRUFBLEVBQUFDLEdBQUFDLFdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FHQSxPQUFBQyxLQUFBQyxLQUFBLFdBR0EsSUFBQUMsRUFBQVIsRUFBQU0sTUFHQUYsR0FBQSxtQkFBQUEsSUFHQUMsRUFBQUQsRUFHQUEsRUFBQSxHQUlBSyxXQUFBLFdBR0FELEVBQUFFLFNBQUEsWUFBQVAsR0FHQSxVQUFBSyxFQUFBRyxJQUFBLGVBR0FILEVBQUFHLElBQUEsQ0FDQUMsV0FBQSxZQU1BSixFQUFBSyxHQUFBLFlBR0FMLEVBQUFNLE9BS0FOLEVBQUFPLEtBQUEsZ0RBQUEsV0FHQSxtQkFBQVYsR0FHQUEsRUFBQVcsS0FBQVYsU0FPQUYsTUExREEsQ0FnRUFhLFFEekRBakIsRUFBQSxpQkFBQWtCLE9BQUEsQ0FDQUMsT0FBQSxFQUNBQyxJQUFBLElBQ0FDLElBQUEsS0FDQUMsS0FBQSxH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b3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBSYW5nZSBTbGlkZXJcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuJChcIiNzbGlkZXItcmFuZ2VcIikuc2xpZGVyKHtcclxuICAgIHJhbmdlOiB0cnVlLFxyXG4gICAgbWluOiAzNjAsXHJcbiAgICBtYXg6IDEyMDAsXHJcbiAgICBzdGVwOiAxNSxcclxuICAgIHZhbHVlczogWzM2MCwgMTIwMF0sXHJcbiAgICBzbGlkZTogZnVuY3Rpb24gKGUsIHVpKSB7XHJcbiAgICAgICAgdmFyIGhvdXJzMSA9IE1hdGguZmxvb3IodWkudmFsdWVzWzBdIC8gNjApO1xyXG4gICAgICAgIHZhciBtaW51dGVzMSA9IHVpLnZhbHVlc1swXSAtIChob3VyczEgKiA2MCk7XHJcblxyXG4gICAgICAgIGlmIChob3VyczEubGVuZ3RoID09IDEpIGhvdXJzMSA9ICcwJyArIGhvdXJzMTtcclxuICAgICAgICBpZiAobWludXRlczEubGVuZ3RoID09IDEpIG1pbnV0ZXMxID0gJzAnICsgbWludXRlczE7XHJcbiAgICAgICAgaWYgKG1pbnV0ZXMxID09IDApIG1pbnV0ZXMxID0gJzAwJztcclxuICAgICAgICBpZiAoaG91cnMxID49IDEyKSB7XHJcbiAgICAgICAgICAgIGlmIChob3VyczEgPT0gMTIpIHtcclxuICAgICAgICAgICAgICAgIGhvdXJzMSA9IGhvdXJzMTtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMxID0gbWludXRlczEgKyBcIiBQTVwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaG91cnMxID0gaG91cnMxIC0gMTI7XHJcbiAgICAgICAgICAgICAgICBtaW51dGVzMSA9IG1pbnV0ZXMxICsgXCIgUE1cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGhvdXJzMSA9IGhvdXJzMTtcclxuICAgICAgICAgICAgbWludXRlczEgPSBtaW51dGVzMSArIFwiIEFNXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChob3VyczEgPT0gMCkge1xyXG4gICAgICAgICAgICBob3VyczEgPSAxMjtcclxuICAgICAgICAgICAgbWludXRlczEgPSBtaW51dGVzMTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgJCgnLnNsaWRlci10aW1lJykuaHRtbChob3VyczEgKyAnOicgKyBtaW51dGVzMSk7XHJcblxyXG4gICAgICAgIHZhciBob3VyczIgPSBNYXRoLmZsb29yKHVpLnZhbHVlc1sxXSAvIDYwKTtcclxuICAgICAgICB2YXIgbWludXRlczIgPSB1aS52YWx1ZXNbMV0gLSAoaG91cnMyICogNjApO1xyXG5cclxuICAgICAgICBpZiAoaG91cnMyLmxlbmd0aCA9PSAxKSBob3VyczIgPSAnMCcgKyBob3VyczI7XHJcbiAgICAgICAgaWYgKG1pbnV0ZXMyLmxlbmd0aCA9PSAxKSBtaW51dGVzMiA9ICcwJyArIG1pbnV0ZXMyO1xyXG4gICAgICAgIGlmIChtaW51dGVzMiA9PSAwKSBtaW51dGVzMiA9ICcwMCc7XHJcbiAgICAgICAgaWYgKGhvdXJzMiA+PSAxMikge1xyXG4gICAgICAgICAgICBpZiAoaG91cnMyID09IDEyKSB7XHJcbiAgICAgICAgICAgICAgICBob3VyczIgPSBob3VyczI7XHJcbiAgICAgICAgICAgICAgICBtaW51dGVzMiA9IG1pbnV0ZXMyICsgXCIgUE1cIjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChob3VyczIgPT0gMjQpIHtcclxuICAgICAgICAgICAgICAgIGhvdXJzMiA9IDExO1xyXG4gICAgICAgICAgICAgICAgbWludXRlczIgPSBcIjU5IFBNXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBob3VyczIgPSBob3VyczIgLSAxMjtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMyID0gbWludXRlczIgKyBcIiBQTVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaG91cnMyID0gaG91cnMyO1xyXG4gICAgICAgICAgICBtaW51dGVzMiA9IG1pbnV0ZXMyICsgXCIgQU1cIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJy5zbGlkZXItdGltZTInKS5odG1sKGhvdXJzMiArICc6JyArIG1pbnV0ZXMyKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgTW9iaWxlIE1lbnVcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuZnVuY3Rpb24gdG9nZ2xlQ2xhc3NNZW51KCkge1xyXG4gICAgbXlNZW51LmNsYXNzTGlzdC5hZGQoXCJtZW51LS1hbmltYXRhYmxlXCIpOyAgIFxyXG4gICAgaWYoIW15TWVudS5jbGFzc0xpc3QuY29udGFpbnMoXCJtZW51LS12aXNpYmxlXCIpKSB7ICAgICAgIFxyXG4gICAgICAgIG15TWVudS5jbGFzc0xpc3QuYWRkKFwibWVudS0tdmlzaWJsZVwiKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhhbVwiKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbXlNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtLXZpc2libGUnKTsgICAgICAgXHJcbiAgICB9ICAgXHJcbn1cclxuXHJcbmZ1bmN0aW9uIE9uVHJhbnNpdGlvbkVuZCgpIHtcclxuICAgIG15TWVudS5jbGFzc0xpc3QucmVtb3ZlKFwibWVudS0tYW5pbWF0YWJsZVwiKTtcclxufVxyXG5cclxudmFyIG15TWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudVwiKTtcclxudmFyIGNsc01lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1tb2JpbGVcIik7XHJcbnZhciBvcHBNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oYW1cIik7XHJcblxyXG5vcHBNZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVDbGFzc01lbnUsIGZhbHNlKTtcclxuY2xzTWVudS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlQ2xhc3NNZW51LCBmYWxzZSk7XHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEJ0biBGaWx0ZXJcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuZnVuY3Rpb24gdG9nZ2xlRmlsdGVyKCkge1xyXG4gICAgaWYoIWZpbHRlckJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtZmlsdGVyXCIpKSB7ICAgICAgIFxyXG4gICAgICAgIGZpbHRlckJ0bi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLWZpbHRlclwiKTtcclxuICAgICAgICBpY29uX2ZpbHRlci5jbGFzc0xpc3QuYWRkKCdyb3RhdGUtaWNvbicpO1xyXG4gICAgICAgICQoJy5idG4tYnV0dG9uLWZpbHRlcicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKFwiLmZpbHRlci1idG5cIikub2Zmc2V0KCkudG9wXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDEwMCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICBcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICBmaWx0ZXJCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWZpbHRlcicpO1xyXG4gICAgICAgICBpY29uX2ZpbHRlci5jbGFzc0xpc3QucmVtb3ZlKCdyb3RhdGUtaWNvbicpOyAgICAgICBcclxuICAgIH0gICBcclxufVxyXG52YXIgbXlGaWx0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWJ1dHRvbi1maWx0ZXInKTtcclxudmFyIGZpbHRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXItYnRuJyk7XHJcbnZhciBpY29uX2ZpbHRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tYnV0dG9uLWZpbHRlcicpO1xyXG5cclxubXlGaWx0ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZUZpbHRlciwgZmFsc2UpO1xyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBDb2xsYXBzZSBGaWx0ZXJcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgQWNjb3JkaW9uID0gZnVuY3Rpb24oZWwsIG11bHRpcGxlKSB7XHJcbiAgICAgICAgdGhpcy5lbCA9IGVsIHx8IHt9O1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGUgPSBtdWx0aXBsZSB8fCBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIGxpbmtzID0gdGhpcy5lbC5maW5kKCcuaXRlbS1jb2xsYXBzZScpO1xyXG4gICAgICAgIGxpbmtzLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdyb3RhdGUtaWNvbicpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbGlua3Mub24oJ2NsaWNrJywge1xyXG5cclxuICAgICAgICAgICAgZWw6IHRoaXMuZWwsXHJcbiAgICAgICAgICAgIG11bHRpcGxlOiB0aGlzLm11bHRpcGxlXHJcbiAgICAgICAgfSwgdGhpcy5kcm9wZG93bilcclxuICAgIH1cclxuXHJcbiAgICBBY2NvcmRpb24ucHJvdG90eXBlLmRyb3Bkb3duID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciAkZWwgPSBlLmRhdGEuZWw7XHJcbiAgICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICBsZXQgJG5leHQgPSAkdGhpcy5uZXh0KCk7XHJcblxyXG4gICAgICAgICRuZXh0LnNsaWRlVG9nZ2xlKCk7XHJcbiAgICAgICAgJHRoaXMucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcclxuXHJcbiAgICAgICAgaWYgKCFlLmRhdGEubXVsdGlwbGUpIHtcclxuICAgICAgICAgICAgJGVsLmZpbmQoJy5jb2xsYXBzZS1jb250ZW50Jykubm90KCRuZXh0KS5zbGlkZVVwKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgdmFyIGFjY29yZGlvbiA9IG5ldyBBY2NvcmRpb24oJCgnLmNvbGxhcHNlJyksIHRydWUpO1xyXG5cclxuICAgICQoJ2xhYmVsJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5ub3QodGhpcykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBTbGlkZXIgUHJpY2VcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuJCggXCIjc2xpZGVyLXJhbmdlLXByaWNlXCIgKS5zbGlkZXIoe1xyXG4gICAgICByYW5nZTogdHJ1ZSxcclxuICAgICAgbWluOiAwLFxyXG4gICAgICBtYXg6IDUwMCxcclxuICAgICAgdmFsdWVzOiBbIDAsIDk5OTk5IF0sXHJcbiAgICAgIHNsaWRlOiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xyXG4gICAgICAgICQoIFwiI2Ftb3VudCAucHJpY2Utb25lXCIgKS52YWwoXCIkXCIgKyB1aS52YWx1ZXNbIDAgXSk7XHJcbiAgICAgICAgICQoIFwiI2Ftb3VudCAuc2Vjb25kLW9uZVwiICkudmFsKFwiJFwiICsgdWkudmFsdWVzWyAxIF0gKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIE1vZGFsXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgSlMgU2Nyb2xsIEJ0biBGSWx0ZXJcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcblxyXG5cclxudmFyIGhlYWRlciA9ICQoXCIuZmlsdGVyLXNlY3Rpb25cIik7XHJcbnZhciBoZWFkZXJUd28gPSAkKCcjbWFpbi1maXhlZC1uYXYnKVxyXG5sZXQgY2FyZF9jb250ZW50ID0gJCgnLmZpbHRlci1idG4nKTtcclxuICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkgeyAgICBcclxuICAgIHZhciBzY3JvbGwgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICBpZiAoc2Nyb2xsID49IDIwMCkge1xyXG4gICAgICAgICAgaGVhZGVyLmFkZENsYXNzKFwiZml4ZWRcIik7XHJcbiAgICAgICAgICBoZWFkZXJUd28uYWRkQ2xhc3MoJ3N0eWtpJylcclxuICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBoZWFkZXIucmVtb3ZlQ2xhc3MoXCJmaXhlZFwiKTtcclxuICAgICAgICAgIGhlYWRlclR3by5yZW1vdmVDbGFzcygnc3R5a2knKVxyXG4gICAgICAgIH1cclxufSlcclxuXHJcbiAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICBDaGVja2JveCBBY3RpdmVcclxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG4gXHJcbiAgIFxyXG4kKCcuYnRuLWJ1dHRvbi1maWx0ZXInKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgJCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSkge1xyXG4gICAgICAgICAgICAkKCcuYnRuLWJ1dHRvbi1maWx0ZXInKS5hZGRDbGFzcygnYWN0aXZlY2tlY2snKTtcclxuICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAkKCcuYnRuLWJ1dHRvbi1maWx0ZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlY2tlY2snKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSlcclxuXHJcbiQoXCJsYWJlbFtkYXRhLWlkPSd1YmljYWNpb24nXSBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuIGNoZWNrVWJpY2FjaW9uKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2hlY2tVYmljYWNpb24oKSB7XHJcbiAgICB2YXIgYW55Qm94ZXNDaGVja2VkID0gZmFsc2U7XHJcbiAgICAkKCdsYWJlbFtkYXRhLWlkPVwidWJpY2FjaW9uXCJdIGlucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIGFueUJveGVzQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICQoJy5idG4tY2xlYXInKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gXHJcbiAgICBpZiAoYW55Qm94ZXNDaGVja2VkID09IGZhbHNlKSB7XHJcbiAgICAgXHJcbiAgICAgICQoJy5idG4tY2xlYXInKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gXHJcbn1cclxuXHJcbiQoXCJsYWJlbFtkYXRhLWlkPSdlZGFkJ10gaW5wdXRbdHlwZT1jaGVja2JveF1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiBjaGVja2VkYWQoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVja2VkYWQoKSB7XHJcbiAgICB2YXIgYW55Qm94ZXNDaGVja2VkID0gZmFsc2U7XHJcbiAgICAkKCdsYWJlbFtkYXRhLWlkPVwiZWRhZFwiXSBpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICBhbnlCb3hlc0NoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAkKCcuYnRuLWVkYWQnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gXHJcbiAgICBpZiAoYW55Qm94ZXNDaGVja2VkID09IGZhbHNlKSB7XHJcbiAgICAgXHJcbiAgICAgICQoJy5idG4tZWRhZCcpLmNzcygnZGlzcGxheScsICdub25lJylcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBcclxufVxyXG5cclxuJChcImxhYmVsW2RhdGEtaWQ9J2NhdGVnb3JpYSddIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gY2hlY2tjYXRlZ29yaWEoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVja2NhdGVnb3JpYSgpIHtcclxuICAgIHZhciBhbnlCb3hlc0NoZWNrZWQgPSBmYWxzZTtcclxuICAgICQoJ2xhYmVsW2RhdGEtaWQ9XCJjYXRlZ29yaWFcIl0gaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuICAgICAgICAgICAgYW55Qm94ZXNDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgJCgnLmJ0bi1jYXRlZ29yaWEnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gXHJcbiAgICBpZiAoYW55Qm94ZXNDaGVja2VkID09IGZhbHNlKSB7XHJcbiAgICAgXHJcbiAgICAgICQoJy5idG4tY2F0ZWdvcmlhJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IFxyXG59XHJcbiQoXCJsYWJlbFtkYXRhLWlkPSdwcmVjaW9zJ10gaW5wdXRbdHlwZT1jaGVja2JveF1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiBjaGVja3ByZWNpb3MoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVja3ByZWNpb3MoKSB7XHJcbiAgICB2YXIgYW55Qm94ZXNDaGVja2VkID0gZmFsc2U7XHJcbiAgICAkKCdsYWJlbFtkYXRhLWlkPVwicHJlY2lvc1wiXSBpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICBhbnlCb3hlc0NoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAkKCcuYnRuLXByZWNpb3MnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gXHJcbiAgICBpZiAoYW55Qm94ZXNDaGVja2VkID09IGZhbHNlKSB7XHJcbiAgICAgXHJcbiAgICAgICQoJy5idG4tcHJlY2lvcycpLmNzcygnZGlzcGxheScsICdub25lJylcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBcclxufVxyXG5cclxuJChcImxhYmVsW2RhdGEtaWQ9J3Byb3ZlciddIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gY2hlY2twcm92ZXIoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVja3Byb3ZlcigpIHtcclxuICAgIHZhciBhbnlCb3hlc0NoZWNrZWQgPSBmYWxzZTtcclxuICAgICQoJ2xhYmVsW2RhdGEtaWQ9XCJwcm92ZXJcIl0gaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuICAgICAgICAgICAgYW55Qm94ZXNDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgJCgnLmJ0bi1wcm92ZXInKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gXHJcbiAgICBpZiAoYW55Qm94ZXNDaGVja2VkID09IGZhbHNlKSB7XHJcbiAgICAgXHJcbiAgICAgICQoJy5idG4tcHJvdmVyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IFxyXG59XHJcblxyXG4kKFwibGFiZWxbZGF0YS1pZD0nYW5vdGhlciddIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gY2hlY2thbm90aGVyKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2hlY2thbm90aGVyKCkge1xyXG4gICAgdmFyIGFueUJveGVzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgJCgnbGFiZWxbZGF0YS1pZD1cImFub3RoZXJcIl0gaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuICAgICAgICAgICAgYW55Qm94ZXNDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgJCgnLmJ0bi1hbm90aGVyJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLWFub3RoZXInKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gXHJcbn1cclxuXHJcblxyXG5cclxuaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XHJcbiAgJCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKS5jbGljayhmdW5jdGlvbigpe1xyXG4gIGJ0bkZpbHRlcigpXHJcbn0pXHJcblxyXG5mdW5jdGlvbiBidG5GaWx0ZXIoKXtcclxuICB2YXIgaXNGYWxzZSA9IGZhbHNlXHJcbiAgJCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSkge1xyXG4gICAgICAgICAgaXNGYWxzZSA9IHRydWUgIFxyXG4gICAgICAgICAgICAkKCcuYnRuLXNpbXBsZScpLmNzcygnZGlzcGxheScsICdibG9jaycpICBcclxuICAgICAgICAgICAgJCgnLmJ0bi1zaW1wbGUnKS5hZGRDbGFzcygnYnRuLWZsb2F0aW5nJylcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gIGlmIChpc0ZhbHNlID09IGZhbHNlKSB7XHJcblxyXG4gICQoJy5idG4tc2ltcGxlJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKSBcclxuICAkKCcuYnRuLXNpbXBsZScpLnJlbW92ZUNsYXNzKCdidG4tZmxvYXRpbmcnKVxyXG59XHJcbn1cclxufVxyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBQcmV2aWV3IEl0ZW1zXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG5pZiAoJCgnLmNvbnRlbnQtdmlldycpLmxlbmd0aCkge1xyXG4gICAgbGV0IHByb2R1Y3QgPSAkKCcucHJvZHVjdC12aWV3Jyk7XHJcbiAgICBsZXQgaXRlbSA9ICQoJy5zcGFuLXRodW1iYWlsJyk7XHJcblxyXG4gICAgaXRlbS5jbGljayhmdW5jdGlvbihldil7XHJcbiAgICAgICBsZXQgYmcgPSAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1pbWFnZScpO1xyXG4gICAgICAgICAgYmcgPSBiZy5yZXBsYWNlKCd1cmwoJywnJykucmVwbGFjZSgnKScsJycpO1xyXG5cclxuICAgICAgICAgIFxyXG4gICAgICAgICBwcm9kdWN0LmF0dHIoJ3NyYycsIGJnLnJlcGxhY2UoL1snXCJdKy9nLCAnJykpO1xyXG5cclxuXHJcbiAgICB9KVxyXG59ZWxzZXtcclxuXHJcbn1cclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgTmF2IERyb3BcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcbmlmICgkKCcubmFtZScpKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gbXlGdW5jdGlvbigpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15RHJvcGRvd25cIikuY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgICQoJy5uYW1lJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgbXlGdW5jdGlvbigpO1xyXG4gICAgfSlcclxufVxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFVzZXIgQXZhdGFyXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyBcclxuXHJcbiAgZnVuY3Rpb24gY2hvb3NlRmlsZSgpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVcIikuY2xpY2soKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaWYgKCQoJyNmaWxlJykubGVuZ3RoKSB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlJylcclxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbihldil7XHJcbiAgICAgICAgICAgIGxldCBmaWxlcyA9IGV2LnRhcmdldC5maWxlcztcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZXMpO1xyXG4gICAgICAgICAgICBsZXQgaW1hZ2UgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgbGV0IGltYWdlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChpbWFnZSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5udWxsLWltZycpXHJcbiAgICAgICAgICAgICAgICAuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoJ1wiKyBpbWFnZVVSTCArXCInKVwiO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nLWRlcycpLmlubmVySFRNTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlJykuZmlsZXNbMF0ubmFtZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgRml4ZWQgbmF2XHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG5cclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgQnRuIGZpbHRlciBhY3RpdmVcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcbiQoJy5idG4tc2ltcGxlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICBpZiAoJCgnLmZpbHRlci1idG4nKS5oYXNDbGFzcygnYWN0aXZlLWZpbHRlcicpKSB7XHJcbiAgICAkKCcuYnRuLWJ1dHRvbi1maWx0ZXInKS5jbGljaygpXHJcbiAgfWVsc2V7XHJcbiAgICBhbGVydCgnbXNnJyk7XHJcbiAgfVxyXG59KSIsIihmdW5jdGlvbiAoJCkge1xyXG5cclxuICAgICQuZm4uYW5pbWF0ZUNTUyA9IGZ1bmN0aW9uIChlZmZlY3QsIGRlbGF5LCBjYWxsYmFjaykge1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gdGhpcyB0byBtYWludGFpbiBjaGFpbmFiaWxpdHlcclxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENhY2hlICQodGhpcykgZm9yIHNwZWVkXHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBkZWxheSBleGlzdHMgb3IgaWYgaXQncyBhIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIGlmICghZGVsYXkgfHwgdHlwZW9mIGRlbGF5ID09ICdmdW5jdGlvbicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgY2FsbGJhY2ssIG1vdmUgaXQgdG8gY2FsbGJhY2sgc28gd2UgY2FuIGNhbGwgaXQgbGF0ZXJcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZGVsYXk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBkZWxheSB0byAwIGZvciB0aGUgc2V0VGltZW91dFxyXG4gICAgICAgICAgICAgICAgZGVsYXkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTdGFydCBhIGNvdW50ZXIgc28gd2UgY2FuIGRlbGF5IHRoZSBhbmltYXRpb24gaWYgcmVxdWlyZWRcclxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgYW5pbWF0aW9uIGVmZmVjdCB3aXRoIGNsYXNzZXNcclxuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdhbmltYXRlZCAnICsgZWZmZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZWxlbWVuciBoYXMgYmVlbiBoaWRkZW4gdG8gc3RhcnQgd2l0aFxyXG4gICAgICAgICAgICAgICAgaWYgKCR0aGlzLmNzcygndmlzaWJpbGl0eScpID09ICdoaWRkZW4nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGl0IGhhcywgc2hvdyBpdCAoYWZ0ZXIgdGhlIGNsYXNzIGhhcyBiZWVuIGFkZGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGhpZGRlblxyXG4gICAgICAgICAgICAgICAgaWYgKCR0aGlzLmlzKCc6aGlkZGVuJykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBpdFxyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnNob3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRXZlbnQgdHJpZ2dlcmVkIHdoZW4gdGhlIGFuaW1hdGlvbiBoYXMgZmluaXNoZWRcclxuICAgICAgICAgICAgICAgICR0aGlzLmJpbmQoJ3dlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQgb0FuaW1hdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgY2FsbGJhY2sgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNwZWNpZnkgdGhlIGRlbGF5XHJcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbn0pKGpRdWVyeSk7Il19
