"use strict";function toggleClassMenu(){myMenu.classList.add("menu--animatable"),myMenu.classList.contains("menu--visible")?myMenu.classList.remove("menu--visible"):(myMenu.classList.add("menu--visible"),document.querySelector(".ham").classList.remove("active"))}function OnTransitionEnd(){myMenu.classList.remove("menu--animatable")}!function(c){c.fn.animateCSS=function(t,n,i){return this.each(function(){var e=c(this);n&&"function"!=typeof n||(i=n,n=0);setTimeout(function(){e.addClass("animated "+t),"hidden"==e.css("visibility")&&e.css({visibility:"visible"}),e.is(":hidden")&&e.show(),e.bind("webkitAnimationEnd animationend oAnimationEnd",function(){"function"==typeof i&&i.call(this)})},n)})}}(jQuery),$(document).ready(function(){$("#main-cropper").croppie({viewport:{width:250,height:250},boundary:{width:300,height:300},showZoomer:!1,url:"../img/placeholder.png"});$(".actionUpload input").on("change",function(){!function(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#main-cropper").croppie("bind",{url:e.target.result}),$(".actionDone").toggle(),$(".actionUpload").toggle()},t.readAsDataURL(e.files[0])}}(this)}),$(".actionDone").on("click",function(){$(".actionDone").toggle(),$(".actionUpload").toggle()})}),$("#slider-range").slider({range:!0,min:480,max:1380,step:15,values:[480,1380],slide:function(e,t){var n=Math.floor(t.values[0]/60),i=t.values[0]-60*n;1==n.length&&(n="0"+n),1==i.length&&(i="0"+i),0==i&&(i="00"),12<=n?(12==n?n=n:n-=12,i+=" PM"):(n=n,i+=" AM"),0==n&&(n=12,i=i),$(".slider-time").html(n+":"+i);var c=Math.floor(t.values[1]/60),a=t.values[1]-60*c;1==c.length&&(c="0"+c),1==a.length&&(a="0"+a),0==a&&(a="00"),12<=c?12==c?(c=c,a+=" PM"):24==c?(c=11,a="59 PM"):(c-=12,a+=" PM"):(c=c,a+=" AM"),$(".slider-time2").html(c+":"+a)}});var myMenu=document.querySelector(".menu"),clsMenu=document.querySelector(".header-mobile"),oppMenu=document.querySelector(".ham");if(oppMenu.addEventListener("click",toggleClassMenu,!1),clsMenu.addEventListener("click",toggleClassMenu,!1),document.querySelector(".btn-button-filter")){var myFilter=document.querySelector(".btn-button-filter"),filterBtn=document.querySelector(".filter-btn"),icon_filter=document.querySelector(".btn-button-filter");myFilter.addEventListener("click",toggleFilter,!1)}function toggleFilter(){filterBtn.classList.contains("active-filter")?(filterBtn.classList.remove("active-filter"),icon_filter.classList.remove("rotate-icon")):(filterBtn.classList.add("active-filter"),icon_filter.classList.add("rotate-icon"),$(".btn-button-filter").click(function(){$("html, body").animate({scrollTop:$(".filter-btn").offset().top},100)}))}$(function(){var e=function(e,t){this.el=e||{},this.multiple=t||!1;var n=this.el.find(".item-collapse");n.click(function(){$(this).toggleClass("rotate-icon")}),n.on("click",{el:this.el,multiple:this.multiple},this.dropdown)};e.prototype.dropdown=function(e){var t=e.data.el,n=$(this),i=n.next();i.slideToggle(),n.parent().toggleClass("open"),e.data.multiple||t.find(".collapse-content").not(i).slideUp().parent().removeClass("open")};new e($(".collapse"),!0);$("label").on("change",function(){$(this).siblings('input[type="checkbox"]').not(this).prop("checked",!1)})}),$("#slider-range-price").slider({range:!0,min:0,max:500,values:[0,99999],slide:function(e,t){$("#amount .price-one").val("$"+t.values[0]),$("#amount .second-one").val("$"+t.values[1])}});var header=$(".filter-section"),headerTwo=$("#main-fixed-nav"),card_content=$(".filter-btn");function checkUbicacion(){var e=!1;if($('label[data-id="ubicacion"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-clear").css("display","block"))}),0==e)return $(".btn-clear").css("display","none"),!1}function checkedad(){var e=!1;if($('label[data-id="edad"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-edad").css("display","block"))}),0==e)return $(".btn-edad").css("display","none"),!1}function checkcategoria(){var e=!1;if($('label[data-id="categoria"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-categoria").css("display","block"))}),0==e)return $(".btn-categoria").css("display","none"),!1}function checkprecios(){var e=!1;if($('label[data-id="precios"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-precios").css("display","block"))}),0==e)return $(".btn-precios").css("display","none"),!1}function checkprover(){var e=!1;if($('label[data-id="prover"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-prover").css("display","block"))}),0==e)return $(".btn-prover").css("display","none"),!1}function checkanother(){var e=!1;if($('label[data-id="another"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-another").css("display","block"))}),0==e)return $(".btn-another").css("display","none"),!1}if($(window).scroll(function(){200<=$(window).scrollTop()?(header.addClass("fixed"),headerTwo.addClass("styki")):(header.removeClass("fixed"),headerTwo.removeClass("styki"))}),$(".btn-button-filter").click(function(){$("input[type=checkbox]").each(function(){if($(this).is(":checked"))return $(".btn-button-filter").addClass("activeckeck"),!1;$(".btn-button-filter").removeClass("activeckeck")})}),$("label[data-id='ubicacion'] input[type=checkbox]").click(function(){checkUbicacion()}),$("label[data-id='edad'] input[type=checkbox]").click(function(){checkedad()}),$("label[data-id='categoria'] input[type=checkbox]").click(function(){checkcategoria()}),$("label[data-id='precios'] input[type=checkbox]").click(function(){checkprecios()}),$("label[data-id='prover'] input[type=checkbox]").click(function(){checkprover()}),$("label[data-id='another'] input[type=checkbox]").click(function(){checkanother()}),$(window).width()<768){var btnFilter=function(){var e=!1;$("input[type=checkbox]").each(function(){$(this).is(":checked")&&(e=!0,$(".btn-simple").css("display","block"),$(".btn-simple").addClass("btn-floating"))}),0==e&&($(".btn-simple").css("display","none"),$(".btn-simple").removeClass("btn-floating"))};$("input[type=checkbox]").click(function(){btnFilter()})}if($(".content-view").length){var product=$(".product-view"),item=$(".span-thumbail");item.click(function(e){var t=$(this).css("background-image");t=t.replace("url(","").replace(")",""),product.attr("src",t.replace(/['"]+/g,""))})}if($(".name")){var myFunction=function(){document.getElementById("myDropdown").classList.toggle("show")};$(".name").click(function(){myFunction()})}function chooseFile(){document.getElementById("file").click()}function addFields(){for(var e=document.getElementById("member").value,t=document.getElementById("preciii");t.hasChildNodes();)t.removeChild(t.lastChild);for(i=0;i<e;i++){t.appendChild(document.createTextNode("Member "+(i+1)));var n=document.createElement("input");n.type="text",n.name="member"+i,t.appendChild(n),t.appendChild(document.createElement("br"))}}$("#file").length&&document.querySelector("#file").addEventListener("change",function(e){var t=e.target.files;console.log(t);var n=t[0],i=URL.createObjectURL(n);document.querySelector(".null-img").style.backgroundImage="url('"+i+"')",document.getElementById("img-des").innerHTML=document.getElementById("file").files[0].name}),$(".btn-simple").click(function(){$(".filter-btn").hasClass("active-filter")?$(".btn-button-filter").click():alert("msg")}),$(document).ready(function(){$(".minus").click(function(){var e=$(this).parent().find("input"),t=parseInt(e.val())-1;return t=t<1?1:t,e.val(t),e.change(),!1}),$(".plus").click(function(){var e=$(this).parent().find("input");return e.val(parseInt(e.val())+1),e.change(),!1})}),$(".toggleCollapse").click(function(){$(".contrasena-toggle").toggleClass("hide")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwiYW5pbWF0ZS5qcyJdLCJuYW1lcyI6WyJ0b2dnbGVDbGFzc01lbnUiLCJteU1lbnUiLCJjbGFzc0xpc3QiLCJhZGQiLCJjb250YWlucyIsInJlbW92ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIk9uVHJhbnNpdGlvbkVuZCIsIiQiLCJmbiIsImFuaW1hdGVDU1MiLCJlZmZlY3QiLCJkZWxheSIsImNhbGxiYWNrIiwidGhpcyIsImVhY2giLCIkdGhpcyIsInNldFRpbWVvdXQiLCJhZGRDbGFzcyIsImNzcyIsInZpc2liaWxpdHkiLCJpcyIsInNob3ciLCJiaW5kIiwiY2FsbCIsImpRdWVyeSIsInJlYWR5IiwiY3JvcHBpZSIsInZpZXdwb3J0Iiwid2lkdGgiLCJoZWlnaHQiLCJib3VuZGFyeSIsInNob3dab29tZXIiLCJ1cmwiLCJvbiIsImlucHV0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZSIsInRhcmdldCIsInJlc3VsdCIsInRvZ2dsZSIsInJlYWRBc0RhdGFVUkwiLCJyZWFkRmlsZSIsInNsaWRlciIsInJhbmdlIiwibWluIiwibWF4Iiwic3RlcCIsInZhbHVlcyIsInNsaWRlIiwidWkiLCJob3VyczEiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzMSIsImxlbmd0aCIsImh0bWwiLCJob3VyczIiLCJtaW51dGVzMiIsImNsc01lbnUiLCJvcHBNZW51IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm15RmlsdGVyIiwiZmlsdGVyQnRuIiwiaWNvbl9maWx0ZXIiLCJ0b2dnbGVGaWx0ZXIiLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJBY2NvcmRpb24iLCJlbCIsIm11bHRpcGxlIiwibGlua3MiLCJmaW5kIiwidG9nZ2xlQ2xhc3MiLCJkcm9wZG93biIsInByb3RvdHlwZSIsIiRlbCIsImRhdGEiLCIkbmV4dCIsIm5leHQiLCJzbGlkZVRvZ2dsZSIsInBhcmVudCIsIm5vdCIsInNsaWRlVXAiLCJyZW1vdmVDbGFzcyIsInNpYmxpbmdzIiwicHJvcCIsImV2ZW50IiwidmFsIiwiaGVhZGVyIiwiaGVhZGVyVHdvIiwiY2FyZF9jb250ZW50IiwiY2hlY2tVYmljYWNpb24iLCJhbnlCb3hlc0NoZWNrZWQiLCJjaGVja2VkYWQiLCJjaGVja2NhdGVnb3JpYSIsImNoZWNrcHJlY2lvcyIsImNoZWNrcHJvdmVyIiwiY2hlY2thbm90aGVyIiwid2luZG93Iiwic2Nyb2xsIiwiYnRuRmlsdGVyIiwiaXNGYWxzZSIsInByb2R1Y3QiLCJpdGVtIiwiZXYiLCJiZyIsInJlcGxhY2UiLCJhdHRyIiwibXlGdW5jdGlvbiIsImdldEVsZW1lbnRCeUlkIiwiY2hvb3NlRmlsZSIsImFkZEZpZWxkcyIsIm51bWJlciIsInZhbHVlIiwiY29udGFpbmVyIiwiaGFzQ2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiaSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsIm5hbWUiLCJjb25zb2xlIiwibG9nIiwiaW1hZ2UiLCJpbWFnZVVSTCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiaW5uZXJIVE1MIiwiaGFzQ2xhc3MiLCJhbGVydCIsIiRpbnB1dCIsImNvdW50IiwicGFyc2VJbnQiLCJjaGFuZ2UiXSwibWFwcGluZ3MiOiJhQXdHQSxTQUFBQSxrQkFDQUMsT0FBQUMsVUFBQUMsSUFBQSxvQkFDQUYsT0FBQUMsVUFBQUUsU0FBQSxpQkFLQUgsT0FBQUMsVUFBQUcsT0FBQSxrQkFKQUosT0FBQUMsVUFBQUMsSUFBQSxpQkFDQUcsU0FBQUMsY0FBQSxRQUFBTCxVQUFBRyxPQUFBLFdBT0EsU0FBQUcsa0JBQ0FQLE9BQUFDLFVBQUFHLE9BQUEscUJDcEhBLFNBQUFJLEdBRUFBLEVBQUFDLEdBQUFDLFdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FHQSxPQUFBQyxLQUFBQyxLQUFB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RyxFQUFBakcsRUFBQSxHQUNBa0csRUFBQUMsSUFBQUMsZ0JBQUFILEdBQ0FoSSxTQUFBQyxjQUFBLGFBQ0FtSSxNQUFBQyxnQkFBQSxRQUFBSixFQUFBLEtBQ0FqSSxTQUFBK0csZUFBQSxXQUFBdUIsVUFBQXRJLFNBQUErRyxlQUFBLFFBQUFoRixNQUFBLEdBQUE4RixPQWdCQTFILEVBQUEsZUFBQTZELE1BQUEsV0FDQTdELEVBQUEsZUFBQW9JLFNBQUEsaUJBQ0FwSSxFQUFBLHNCQUFBNkQsUUFFQXdFLE1BQUEsU0FPQXJJLEVBQUFILFVBQUFxQixNQUFBLFdBQ0FsQixFQUFBLFVBQUE2RCxNQUFBLFdBQ0EsSUFBQXlFLEVBQUF0SSxFQUFBTSxNQUFBeUUsU0FBQVQsS0FBQSxTQUNBaUUsRUFBQUMsU0FBQUYsRUFBQWhELE9BQUEsRUFJQSxPQUhBaUQsRUFBQUEsRUFBQSxFQUFBLEVBQUFBLEVBQ0FELEVBQUFoRCxJQUFBaUQsR0FDQUQsRUFBQUcsVUFDQSxJQUVBekksRUFBQSxTQUFBNkQsTUFBQSxXQUNBLElBQUF5RSxFQUFBdEksRUFBQU0sTUFBQXlFLFNBQUFULEtBQUEsU0FHQSxPQUZBZ0UsRUFBQWhELElBQUFrRCxTQUFBRixFQUFBaEQsT0FBQSxHQUNBZ0QsRUFBQUcsVUFDQSxNQVVBekksRUFBQSxtQkFBQTZELE1BQUEsV0FDQTdELEVBQUEsc0JBQUF1RSxZQUFBIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBDcm9wcGllXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gIHZhciBiYXNpYyA9ICQoJyNtYWluLWNyb3BwZXInKS5jcm9wcGllKHtcclxuICAgIHZpZXdwb3J0OiB7IHdpZHRoOiAyNTAsIGhlaWdodDogMjUwIH0sXHJcbiAgICBib3VuZGFyeTogeyB3aWR0aDogMzAwLCBoZWlnaHQ6IDMwMCB9LFxyXG4gICAgc2hvd1pvb21lcjogZmFsc2UsXHJcbiAgICB1cmw6ICcuLi9pbWcvcGxhY2Vob2xkZXIucG5nJ1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHJlYWRGaWxlKGlucHV0KSB7XHJcbiAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgJCgnI21haW4tY3JvcHBlcicpLmNyb3BwaWUoJ2JpbmQnLCB7XHJcbiAgICAgICAgdXJsOiBlLnRhcmdldC5yZXN1bHRcclxuICAgICAgfSk7XHJcbiAgICAgICQoJy5hY3Rpb25Eb25lJykudG9nZ2xlKCk7XHJcbiAgICAgICQoJy5hY3Rpb25VcGxvYWQnKS50b2dnbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XHJcbiAgfVxyXG59XHJcblxyXG4kKCcuYWN0aW9uVXBsb2FkIGlucHV0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHsgcmVhZEZpbGUodGhpcyk7IH0pO1xyXG4kKCcuYWN0aW9uRG9uZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgJCgnLmFjdGlvbkRvbmUnKS50b2dnbGUoKTtcclxuICAkKCcuYWN0aW9uVXBsb2FkJykudG9nZ2xlKCk7XHJcbn0pXHJcbn0pXHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFJhbmdlIFNsaWRlclxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG4kKFwiI3NsaWRlci1yYW5nZVwiKS5zbGlkZXIoe1xyXG4gICAgcmFuZ2U6IHRydWUsXHJcbiAgICBtaW46IDQ4MCxcclxuICAgIG1heDogMTM4MCxcclxuICAgIHN0ZXA6IDE1LFxyXG4gICAgdmFsdWVzOiBbNDgwLCAxMzgwXSxcclxuICAgIHNsaWRlOiBmdW5jdGlvbiAoZSwgdWkpIHtcclxuICAgICAgICB2YXIgaG91cnMxID0gTWF0aC5mbG9vcih1aS52YWx1ZXNbMF0gLyA2MCk7XHJcbiAgICAgICAgdmFyIG1pbnV0ZXMxID0gdWkudmFsdWVzWzBdIC0gKGhvdXJzMSAqIDYwKTtcclxuXHJcbiAgICAgICAgaWYgKGhvdXJzMS5sZW5ndGggPT0gMSkgaG91cnMxID0gJzAnICsgaG91cnMxO1xyXG4gICAgICAgIGlmIChtaW51dGVzMS5sZW5ndGggPT0gMSkgbWludXRlczEgPSAnMCcgKyBtaW51dGVzMTtcclxuICAgICAgICBpZiAobWludXRlczEgPT0gMCkgbWludXRlczEgPSAnMDAnO1xyXG4gICAgICAgIGlmIChob3VyczEgPj0gMTIpIHtcclxuICAgICAgICAgICAgaWYgKGhvdXJzMSA9PSAxMikge1xyXG4gICAgICAgICAgICAgICAgaG91cnMxID0gaG91cnMxO1xyXG4gICAgICAgICAgICAgICAgbWludXRlczEgPSBtaW51dGVzMSArIFwiIFBNXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBob3VyczEgPSBob3VyczEgLSAxMjtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMxID0gbWludXRlczEgKyBcIiBQTVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaG91cnMxID0gaG91cnMxO1xyXG4gICAgICAgICAgICBtaW51dGVzMSA9IG1pbnV0ZXMxICsgXCIgQU1cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGhvdXJzMSA9PSAwKSB7XHJcbiAgICAgICAgICAgIGhvdXJzMSA9IDEyO1xyXG4gICAgICAgICAgICBtaW51dGVzMSA9IG1pbnV0ZXMxO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAkKCcuc2xpZGVyLXRpbWUnKS5odG1sKGhvdXJzMSArICc6JyArIG1pbnV0ZXMxKTtcclxuXHJcbiAgICAgICAgdmFyIGhvdXJzMiA9IE1hdGguZmxvb3IodWkudmFsdWVzWzFdIC8gNjApO1xyXG4gICAgICAgIHZhciBtaW51dGVzMiA9IHVpLnZhbHVlc1sxXSAtIChob3VyczIgKiA2MCk7XHJcblxyXG4gICAgICAgIGlmIChob3VyczIubGVuZ3RoID09IDEpIGhvdXJzMiA9ICcwJyArIGhvdXJzMjtcclxuICAgICAgICBpZiAobWludXRlczIubGVuZ3RoID09IDEpIG1pbnV0ZXMyID0gJzAnICsgbWludXRlczI7XHJcbiAgICAgICAgaWYgKG1pbnV0ZXMyID09IDApIG1pbnV0ZXMyID0gJzAwJztcclxuICAgICAgICBpZiAoaG91cnMyID49IDEyKSB7XHJcbiAgICAgICAgICAgIGlmIChob3VyczIgPT0gMTIpIHtcclxuICAgICAgICAgICAgICAgIGhvdXJzMiA9IGhvdXJzMjtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMyID0gbWludXRlczIgKyBcIiBQTVwiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhvdXJzMiA9PSAyNCkge1xyXG4gICAgICAgICAgICAgICAgaG91cnMyID0gMTE7XHJcbiAgICAgICAgICAgICAgICBtaW51dGVzMiA9IFwiNTkgUE1cIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhvdXJzMiA9IGhvdXJzMiAtIDEyO1xyXG4gICAgICAgICAgICAgICAgbWludXRlczIgPSBtaW51dGVzMiArIFwiIFBNXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBob3VyczIgPSBob3VyczI7XHJcbiAgICAgICAgICAgIG1pbnV0ZXMyID0gbWludXRlczIgKyBcIiBBTVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgnLnNsaWRlci10aW1lMicpLmh0bWwoaG91cnMyICsgJzonICsgbWludXRlczIpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBNb2JpbGUgTWVudVxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5mdW5jdGlvbiB0b2dnbGVDbGFzc01lbnUoKSB7XHJcbiAgICBteU1lbnUuY2xhc3NMaXN0LmFkZChcIm1lbnUtLWFuaW1hdGFibGVcIik7ICAgXHJcbiAgICBpZighbXlNZW51LmNsYXNzTGlzdC5jb250YWlucyhcIm1lbnUtLXZpc2libGVcIikpIHsgICAgICAgXHJcbiAgICAgICAgbXlNZW51LmNsYXNzTGlzdC5hZGQoXCJtZW51LS12aXNpYmxlXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtXCIpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBteU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnbWVudS0tdmlzaWJsZScpOyAgICAgICBcclxuICAgIH0gICBcclxufVxyXG5cclxuZnVuY3Rpb24gT25UcmFuc2l0aW9uRW5kKCkge1xyXG4gICAgbXlNZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJtZW51LS1hbmltYXRhYmxlXCIpO1xyXG59XHJcblxyXG52YXIgbXlNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51XCIpO1xyXG52YXIgY2xzTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyLW1vYmlsZVwiKTtcclxudmFyIG9wcE1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhhbVwiKTtcclxuXHJcbm9wcE1lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZUNsYXNzTWVudSwgZmFsc2UpO1xyXG5jbHNNZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVDbGFzc01lbnUsIGZhbHNlKTtcclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgQnRuIEZpbHRlclxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWJ1dHRvbi1maWx0ZXInKSkge1xyXG4gIHZhciBteUZpbHRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tYnV0dG9uLWZpbHRlcicpO1xyXG4gIHZhciBmaWx0ZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyLWJ0bicpO1xyXG4gIHZhciBpY29uX2ZpbHRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tYnV0dG9uLWZpbHRlcicpO1xyXG4gIG15RmlsdGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVGaWx0ZXIsIGZhbHNlKTtcclxuXHJcbn1lbHNle1xyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZUZpbHRlcigpIHtcclxuICAgIGlmKCFmaWx0ZXJCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLWZpbHRlclwiKSkgeyAgICAgICBcclxuICAgICAgICBmaWx0ZXJCdG4uY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1maWx0ZXJcIik7XHJcbiAgICAgICAgaWNvbl9maWx0ZXIuY2xhc3NMaXN0LmFkZCgncm90YXRlLWljb24nKTtcclxuICAgICAgICAkKCcuYnRuLWJ1dHRvbi1maWx0ZXInKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgIHNjcm9sbFRvcDogJChcIi5maWx0ZXItYnRuXCIpLm9mZnNldCgpLnRvcFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAxMDApO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgXHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAgZmlsdGVyQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1maWx0ZXInKTtcclxuICAgICAgICAgaWNvbl9maWx0ZXIuY2xhc3NMaXN0LnJlbW92ZSgncm90YXRlLWljb24nKTsgICAgICAgXHJcbiAgICB9ICAgXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgQ29sbGFwc2UgRmlsdGVyXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG4kKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIEFjY29yZGlvbiA9IGZ1bmN0aW9uKGVsLCBtdWx0aXBsZSkge1xyXG4gICAgICAgIHRoaXMuZWwgPSBlbCB8fCB7fTtcclxuICAgICAgICB0aGlzLm11bHRpcGxlID0gbXVsdGlwbGUgfHwgZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBsaW5rcyA9IHRoaXMuZWwuZmluZCgnLml0ZW0tY29sbGFwc2UnKTtcclxuICAgICAgICBsaW5rcy5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygncm90YXRlLWljb24nKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxpbmtzLm9uKCdjbGljaycsIHtcclxuXHJcbiAgICAgICAgICAgIGVsOiB0aGlzLmVsLFxyXG4gICAgICAgICAgICBtdWx0aXBsZTogdGhpcy5tdWx0aXBsZVxyXG4gICAgICAgIH0sIHRoaXMuZHJvcGRvd24pXHJcbiAgICB9XHJcblxyXG4gICAgQWNjb3JkaW9uLnByb3RvdHlwZS5kcm9wZG93biA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgJGVsID0gZS5kYXRhLmVsO1xyXG4gICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgbGV0ICRuZXh0ID0gJHRoaXMubmV4dCgpO1xyXG5cclxuICAgICAgICAkbmV4dC5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgICAgICR0aGlzLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XHJcblxyXG4gICAgICAgIGlmICghZS5kYXRhLm11bHRpcGxlKSB7XHJcbiAgICAgICAgICAgICRlbC5maW5kKCcuY29sbGFwc2UtY29udGVudCcpLm5vdCgkbmV4dCkuc2xpZGVVcCgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHZhciBhY2NvcmRpb24gPSBuZXcgQWNjb3JkaW9uKCQoJy5jb2xsYXBzZScpLCB0cnVlKTtcclxuXHJcbiAgICAkKCdsYWJlbCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgJCh0aGlzKS5zaWJsaW5ncygnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykubm90KHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgU2xpZGVyIFByaWNlXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcbiQoIFwiI3NsaWRlci1yYW5nZS1wcmljZVwiICkuc2xpZGVyKHtcclxuICAgICAgcmFuZ2U6IHRydWUsXHJcbiAgICAgIG1pbjogMCxcclxuICAgICAgbWF4OiA1MDAsXHJcbiAgICAgIHZhbHVlczogWyAwLCA5OTk5OSBdLFxyXG4gICAgICBzbGlkZTogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcclxuICAgICAgICAkKCBcIiNhbW91bnQgLnByaWNlLW9uZVwiICkudmFsKFwiJFwiICsgdWkudmFsdWVzWyAwIF0pO1xyXG4gICAgICAgICAkKCBcIiNhbW91bnQgLnNlY29uZC1vbmVcIiApLnZhbChcIiRcIiArIHVpLnZhbHVlc1sgMSBdICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBNb2RhbFxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEpTIFNjcm9sbCBCdG4gRklsdGVyXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG5cclxuXHJcbnZhciBoZWFkZXIgPSAkKFwiLmZpbHRlci1zZWN0aW9uXCIpO1xyXG52YXIgaGVhZGVyVHdvID0gJCgnI21haW4tZml4ZWQtbmF2JylcclxubGV0IGNhcmRfY29udGVudCA9ICQoJy5maWx0ZXItYnRuJyk7XHJcbiAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsgICAgXHJcbiAgICB2YXIgc2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgaWYgKHNjcm9sbCA+PSAyMDApIHtcclxuICAgICAgICAgIGhlYWRlci5hZGRDbGFzcyhcImZpeGVkXCIpO1xyXG4gICAgICAgICAgaGVhZGVyVHdvLmFkZENsYXNzKCdzdHlraScpXHJcbiAgICAgICAgICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaGVhZGVyLnJlbW92ZUNsYXNzKFwiZml4ZWRcIik7XHJcbiAgICAgICAgICBoZWFkZXJUd28ucmVtb3ZlQ2xhc3MoJ3N0eWtpJylcclxuICAgICAgICB9XHJcbn0pXHJcblxyXG4gIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgQ2hlY2tib3ggQWN0aXZlXHJcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuIFxyXG4gICBcclxuJCgnLmJ0bi1idXR0b24tZmlsdGVyJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHtcclxuICAgICAgICAgICAgJCgnLmJ0bi1idXR0b24tZmlsdGVyJykuYWRkQ2xhc3MoJ2FjdGl2ZWNrZWNrJyk7XHJcbiAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgJCgnLmJ0bi1idXR0b24tZmlsdGVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZWNrZWNrJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG4kKFwibGFiZWxbZGF0YS1pZD0ndWJpY2FjaW9uJ10gaW5wdXRbdHlwZT1jaGVja2JveF1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiBjaGVja1ViaWNhY2lvbigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrVWJpY2FjaW9uKCkge1xyXG4gICAgdmFyIGFueUJveGVzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgJCgnbGFiZWxbZGF0YS1pZD1cInViaWNhY2lvblwiXSBpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICBhbnlCb3hlc0NoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAkKCcuYnRuLWNsZWFyJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLWNsZWFyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IFxyXG59XHJcblxyXG4kKFwibGFiZWxbZGF0YS1pZD0nZWRhZCddIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gY2hlY2tlZGFkKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2hlY2tlZGFkKCkge1xyXG4gICAgdmFyIGFueUJveGVzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgJCgnbGFiZWxbZGF0YS1pZD1cImVkYWRcIl0gaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuICAgICAgICAgICAgYW55Qm94ZXNDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgJCgnLmJ0bi1lZGFkJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLWVkYWQnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gXHJcbn1cclxuXHJcbiQoXCJsYWJlbFtkYXRhLWlkPSdjYXRlZ29yaWEnXSBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuIGNoZWNrY2F0ZWdvcmlhKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2hlY2tjYXRlZ29yaWEoKSB7XHJcbiAgICB2YXIgYW55Qm94ZXNDaGVja2VkID0gZmFsc2U7XHJcbiAgICAkKCdsYWJlbFtkYXRhLWlkPVwiY2F0ZWdvcmlhXCJdIGlucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIGFueUJveGVzQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICQoJy5idG4tY2F0ZWdvcmlhJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLWNhdGVnb3JpYScpLmNzcygnZGlzcGxheScsICdub25lJylcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBcclxufVxyXG4kKFwibGFiZWxbZGF0YS1pZD0ncHJlY2lvcyddIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gY2hlY2twcmVjaW9zKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2hlY2twcmVjaW9zKCkge1xyXG4gICAgdmFyIGFueUJveGVzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgJCgnbGFiZWxbZGF0YS1pZD1cInByZWNpb3NcIl0gaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuICAgICAgICAgICAgYW55Qm94ZXNDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgJCgnLmJ0bi1wcmVjaW9zJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLXByZWNpb3MnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gXHJcbn1cclxuXHJcbiQoXCJsYWJlbFtkYXRhLWlkPSdwcm92ZXInXSBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuIGNoZWNrcHJvdmVyKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2hlY2twcm92ZXIoKSB7XHJcbiAgICB2YXIgYW55Qm94ZXNDaGVja2VkID0gZmFsc2U7XHJcbiAgICAkKCdsYWJlbFtkYXRhLWlkPVwicHJvdmVyXCJdIGlucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIGFueUJveGVzQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICQoJy5idG4tcHJvdmVyJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuIFxyXG4gICAgaWYgKGFueUJveGVzQ2hlY2tlZCA9PSBmYWxzZSkge1xyXG4gICAgIFxyXG4gICAgICAkKCcuYnRuLXByb3ZlcicpLmNzcygnZGlzcGxheScsICdub25lJylcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBcclxufVxyXG5cclxuJChcImxhYmVsW2RhdGEtaWQ9J2Fub3RoZXInXSBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuIGNoZWNrYW5vdGhlcigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrYW5vdGhlcigpIHtcclxuICAgIHZhciBhbnlCb3hlc0NoZWNrZWQgPSBmYWxzZTtcclxuICAgICQoJ2xhYmVsW2RhdGEtaWQ9XCJhbm90aGVyXCJdIGlucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIGFueUJveGVzQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICQoJy5idG4tYW5vdGhlcicpLmNzcygnZGlzcGxheScsICdibG9jaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiBcclxuICAgIGlmIChhbnlCb3hlc0NoZWNrZWQgPT0gZmFsc2UpIHtcclxuICAgICBcclxuICAgICAgJCgnLmJ0bi1hbm90aGVyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IFxyXG59XHJcblxyXG5cclxuXHJcbmlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xyXG4gICQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICBidG5GaWx0ZXIoKVxyXG59KVxyXG5cclxuZnVuY3Rpb24gYnRuRmlsdGVyKCl7XHJcbiAgdmFyIGlzRmFsc2UgPSBmYWxzZVxyXG4gICQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHtcclxuICAgICAgICAgIGlzRmFsc2UgPSB0cnVlICBcclxuICAgICAgICAgICAgJCgnLmJ0bi1zaW1wbGUnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKSAgXHJcbiAgICAgICAgICAgICQoJy5idG4tc2ltcGxlJykuYWRkQ2xhc3MoJ2J0bi1mbG9hdGluZycpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICBpZiAoaXNGYWxzZSA9PSBmYWxzZSkge1xyXG5cclxuICAkKCcuYnRuLXNpbXBsZScpLmNzcygnZGlzcGxheScsICdub25lJykgXHJcbiAgJCgnLmJ0bi1zaW1wbGUnKS5yZW1vdmVDbGFzcygnYnRuLWZsb2F0aW5nJylcclxufVxyXG59XHJcbn1cclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgUHJldmlldyBJdGVtc1xyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuaWYgKCQoJy5jb250ZW50LXZpZXcnKS5sZW5ndGgpIHtcclxuICAgIGxldCBwcm9kdWN0ID0gJCgnLnByb2R1Y3QtdmlldycpO1xyXG4gICAgbGV0IGl0ZW0gPSAkKCcuc3Bhbi10aHVtYmFpbCcpO1xyXG5cclxuICAgIGl0ZW0uY2xpY2soZnVuY3Rpb24oZXYpe1xyXG4gICAgICAgbGV0IGJnID0gJCh0aGlzKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnKTtcclxuICAgICAgICAgIGJnID0gYmcucmVwbGFjZSgndXJsKCcsJycpLnJlcGxhY2UoJyknLCcnKTtcclxuXHJcbiAgICAgICAgICBcclxuICAgICAgICAgcHJvZHVjdC5hdHRyKCdzcmMnLCBiZy5yZXBsYWNlKC9bJ1wiXSsvZywgJycpKTtcclxuXHJcblxyXG4gICAgfSlcclxufWVsc2V7XHJcblxyXG59XHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIE5hdiBEcm9wXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG5pZiAoJCgnLm5hbWUnKSkge1xyXG5cclxuICAgIGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteURyb3Bkb3duXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93XCIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAkKCcubmFtZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgIG15RnVuY3Rpb24oKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBVc2VyIEF2YXRhclxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gXHJcblxyXG4gIGZ1bmN0aW9uIGNob29zZUZpbGUoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWxlXCIpLmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmICgkKCcjZmlsZScpLmxlbmd0aCkge1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZScpXHJcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24oZXYpe1xyXG4gICAgICAgICAgICBsZXQgZmlsZXMgPSBldi50YXJnZXQuZmlsZXM7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGVzKTtcclxuICAgICAgICAgICAgbGV0IGltYWdlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgIGxldCBpbWFnZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoaW1hZ2UpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubnVsbC1pbWcnKVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKCdcIisgaW1hZ2VVUkwgK1wiJylcIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZy1kZXMnKS5pbm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZScpLmZpbGVzWzBdLm5hbWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEZpeGVkIG5hdlxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuXHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEJ0biBmaWx0ZXIgYWN0aXZlXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG4kKCcuYnRuLXNpbXBsZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgaWYgKCQoJy5maWx0ZXItYnRuJykuaGFzQ2xhc3MoJ2FjdGl2ZS1maWx0ZXInKSkge1xyXG4gICAgJCgnLmJ0bi1idXR0b24tZmlsdGVyJykuY2xpY2soKVxyXG4gIH1lbHNle1xyXG4gICAgYWxlcnQoJ21zZycpO1xyXG4gIH1cclxufSlcclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBJbnB1dCBjb3VudGVyXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICQoJy5taW51cycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCdpbnB1dCcpO1xyXG4gICAgICAgIHZhciBjb3VudCA9IHBhcnNlSW50KCRpbnB1dC52YWwoKSkgLSAxO1xyXG4gICAgICAgIGNvdW50ID0gY291bnQgPCAxID8gMSA6IGNvdW50O1xyXG4gICAgICAgICRpbnB1dC52YWwoY291bnQpO1xyXG4gICAgICAgICRpbnB1dC5jaGFuZ2UoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgICAkKCcucGx1cycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCdpbnB1dCcpO1xyXG4gICAgICAgICRpbnB1dC52YWwocGFyc2VJbnQoJGlucHV0LnZhbCgpKSArIDEpO1xyXG4gICAgICAgICRpbnB1dC5jaGFuZ2UoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbiAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgQ29sbGFwc2UgY2FtYmlhciBjb250cmFzZcOxYVxyXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcblxyXG4gICAkKCcudG9nZ2xlQ29sbGFwc2UnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAkKCcuY29udHJhc2VuYS10b2dnbGUnKS50b2dnbGVDbGFzcygnaGlkZScpO1xyXG4gICB9KVxyXG5cclxuXHJcbiAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICBcclxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcbiAgIGZ1bmN0aW9uIGFkZEZpZWxkcygpe1xyXG4gICAgICAgICAgICAvLyBOdW1iZXIgb2YgaW5wdXRzIHRvIGNyZWF0ZVxyXG4gICAgICAgICAgICB2YXIgbnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW1iZXJcIikudmFsdWU7XHJcbiAgICAgICAgICAgIC8vIENvbnRhaW5lciA8ZGl2PiB3aGVyZSBkeW5hbWljIGNvbnRlbnQgd2lsbCBiZSBwbGFjZWRcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJlY2lpaVwiKTtcclxuICAgICAgICAgICAgLy8gQ2xlYXIgcHJldmlvdXMgY29udGVudHMgb2YgdGhlIGNvbnRhaW5lclxyXG4gICAgICAgICAgICB3aGlsZSAoY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5sYXN0Q2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAoaT0wO2k8bnVtYmVyO2krKyl7XHJcbiAgICAgICAgICAgICAgICAvLyBBcHBlbmQgYSBub2RlIHdpdGggYSByYW5kb20gdGV4dFxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiTWVtYmVyIFwiICsgKGkrMSkpKTtcclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhbiA8aW5wdXQ+IGVsZW1lbnQsIHNldCBpdHMgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC50eXBlID0gXCJ0ZXh0XCI7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5uYW1lID0gXCJtZW1iZXJcIiArIGk7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIGEgbGluZSBicmVhayBcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSIsIihmdW5jdGlvbiAoJCkge1xyXG5cclxuICAgICQuZm4uYW5pbWF0ZUNTUyA9IGZ1bmN0aW9uIChlZmZlY3QsIGRlbGF5LCBjYWxsYmFjaykge1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gdGhpcyB0byBtYWludGFpbiBjaGFpbmFiaWxpdHlcclxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENhY2hlICQodGhpcykgZm9yIHNwZWVkXHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBkZWxheSBleGlzdHMgb3IgaWYgaXQncyBhIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIGlmICghZGVsYXkgfHwgdHlwZW9mIGRlbGF5ID09ICdmdW5jdGlvbicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgY2FsbGJhY2ssIG1vdmUgaXQgdG8gY2FsbGJhY2sgc28gd2UgY2FuIGNhbGwgaXQgbGF0ZXJcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZGVsYXk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBkZWxheSB0byAwIGZvciB0aGUgc2V0VGltZW91dFxyXG4gICAgICAgICAgICAgICAgZGVsYXkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTdGFydCBhIGNvdW50ZXIgc28gd2UgY2FuIGRlbGF5IHRoZSBhbmltYXRpb24gaWYgcmVxdWlyZWRcclxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgYW5pbWF0aW9uIGVmZmVjdCB3aXRoIGNsYXNzZXNcclxuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdhbmltYXRlZCAnICsgZWZmZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZWxlbWVuciBoYXMgYmVlbiBoaWRkZW4gdG8gc3RhcnQgd2l0aFxyXG4gICAgICAgICAgICAgICAgaWYgKCR0aGlzLmNzcygndmlzaWJpbGl0eScpID09ICdoaWRkZW4nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGl0IGhhcywgc2hvdyBpdCAoYWZ0ZXIgdGhlIGNsYXNzIGhhcyBiZWVuIGFkZGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGhpZGRlblxyXG4gICAgICAgICAgICAgICAgaWYgKCR0aGlzLmlzKCc6aGlkZGVuJykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBpdFxyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnNob3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRXZlbnQgdHJpZ2dlcmVkIHdoZW4gdGhlIGFuaW1hdGlvbiBoYXMgZmluaXNoZWRcclxuICAgICAgICAgICAgICAgICR0aGlzLmJpbmQoJ3dlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQgb0FuaW1hdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgY2FsbGJhY2sgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNwZWNpZnkgdGhlIGRlbGF5XHJcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbn0pKGpRdWVyeSk7Il19
