"use strict";if(function(c){c.fn.animateCSS=function(n,t,i){return this.each(function(){var e=c(this);t&&"function"!=typeof t||(i=t,t=0);setTimeout(function(){e.addClass("animated "+n),"hidden"==e.css("visibility")&&e.css({visibility:"visible"}),e.is(":hidden")&&e.show(),e.bind("webkitAnimationEnd animationend oAnimationEnd",function(){"function"==typeof i&&i.call(this)})},t)})}}(jQuery),$("#slider-range").slider({range:!0,min:480,max:1380,step:15,values:[480,1380],slide:function(e,n){var t=Math.floor(n.values[0]/60),i=n.values[0]-60*t;1==t.length&&(t="0"+t),1==i.length&&(i="0"+i),0==i&&(i="00"),12<=t?(12==t?t=t:t-=12,i+=" PM"):(t=t,i+=" AM"),0==t&&(t=12,i=i),$(".slider-time").html(t+":"+i);var c=Math.floor(n.values[1]/60),o=n.values[1]-60*c;1==c.length&&(c="0"+c),1==o.length&&(o="0"+o),0==o&&(o="00"),12<=c?12==c?(c=c,o+=" PM"):24==c?(c=11,o="59 PM"):(c-=12,o+=" PM"):(c=c,o+=" AM"),$(".slider-time2").html(c+":"+o)}}),document.querySelector(".menu")){var toggleClassMenu=function(){myMenu.classList.add("menu--animatable"),myMenu.classList.contains("menu--visible")?myMenu.classList.remove("menu--visible"):(myMenu.classList.add("menu--visible"),document.querySelector(".ham").classList.remove("active"))},OnTransitionEnd=function(){myMenu.classList.remove("menu--animatable")},myMenu=document.querySelector(".menu"),clsMenu=document.querySelector(".header-mobile"),oppMenu=document.querySelector(".ham");oppMenu.addEventListener("click",toggleClassMenu,!1),clsMenu.addEventListener("click",toggleClassMenu,!1)}if(document.querySelector(".btn-button-filter")){var myFilter=document.querySelector(".btn-button-filter"),filterBtn=document.querySelector(".filter-btn"),icon_filter=document.querySelector(".btn-button-filter");myFilter.addEventListener("click",toggleFilter,!1)}function toggleFilter(){filterBtn.classList.contains("active-filter")?(filterBtn.classList.remove("active-filter"),icon_filter.classList.remove("rotate-icon")):(filterBtn.classList.add("active-filter"),icon_filter.classList.add("rotate-icon"),$(".btn-button-filter").click(function(){$("html, body").animate({scrollTop:$(".filter-btn").offset().top},100)}))}$(function(){var e=function(e,n){this.el=e||{},this.multiple=n||!1;var t=this.el.find(".item-collapse");t.click(function(){$(this).toggleClass("rotate-icon")}),t.on("click",{el:this.el,multiple:this.multiple},this.dropdown)};e.prototype.dropdown=function(e){var n=e.data.el,t=$(this),i=t.next();i.slideToggle(),t.parent().toggleClass("open"),e.data.multiple||n.find(".collapse-content").not(i).slideUp().parent().removeClass("open")};new e($(".collapse"),!0);$("label").on("change",function(){$(this).siblings('input[type="checkbox"]').not(this).prop("checked",!1)})}),$("#slider-range-price").slider({range:!0,min:0,max:500,values:[0,99999],slide:function(e,n){$("#amount .price-one").val("$"+n.values[0]),$("#amount .second-one").val("$"+n.values[1])}});var header=$(".filter-section"),headerTwo=$("#main-fixed-nav"),card_content=$(".filter-btn");function checkUbicacion(){var e=!1;if($('label[data-id="ubicacion"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-clear").css("display","block"))}),0==e)return $(".btn-clear").css("display","none"),!1}function checkedad(){var e=!1;if($('label[data-id="edad"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-edad").css("display","block"))}),0==e)return $(".btn-edad").css("display","none"),!1}function checkcategoria(){var e=!1;if($('label[data-id="categoria"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-categoria").css("display","block"))}),0==e)return $(".btn-categoria").css("display","none"),!1}function checkprecios(){var e=!1;if($('label[data-id="precios"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-precios").css("display","block"))}),0==e)return $(".btn-precios").css("display","none"),!1}function checkprover(){var e=!1;if($('label[data-id="prover"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-prover").css("display","block"))}),0==e)return $(".btn-prover").css("display","none"),!1}function checkanother(){var e=!1;if($('label[data-id="another"] input[type=checkbox]').each(function(){$(this).is(":checked")&&(e=!0,$(".btn-another").css("display","block"))}),0==e)return $(".btn-another").css("display","none"),!1}if($(window).scroll(function(){200<=$(window).scrollTop()?(header.addClass("fixed"),headerTwo.addClass("styki")):(header.removeClass("fixed"),headerTwo.removeClass("styki"))}),$(".btn-button-filter").click(function(){$("input[type=checkbox]").each(function(){if($(this).is(":checked"))return $(".btn-button-filter").addClass("activeckeck"),!1;$(".btn-button-filter").removeClass("activeckeck")})}),$("label[data-id='ubicacion'] input[type=checkbox]").click(function(){checkUbicacion()}),$("label[data-id='edad'] input[type=checkbox]").click(function(){checkedad()}),$("label[data-id='categoria'] input[type=checkbox]").click(function(){checkcategoria()}),$("label[data-id='precios'] input[type=checkbox]").click(function(){checkprecios()}),$("label[data-id='prover'] input[type=checkbox]").click(function(){checkprover()}),$("label[data-id='another'] input[type=checkbox]").click(function(){checkanother()}),$(window).width()<768){var btnFilter=function(){var e=!1;$("input[type=checkbox]").each(function(){$(this).is(":checked")&&(e=!0,$(".btn-simple").css("display","block"),$(".btn-simple").addClass("btn-floating"))}),0==e&&($(".btn-simple").css("display","none"),$(".btn-simple").removeClass("btn-floating"))};$("input[type=checkbox]").click(function(){btnFilter()})}if($(".content-view").length){var product=$(".product-view"),item=$(".span-thumbail");item.click(function(e){var n=$(this).css("background-image");n=n.replace("url(","").replace(")",""),product.attr("src",n.replace(/['"]+/g,""))})}if($(".name")){var myFunction=function(){document.getElementById("myDropdown").classList.toggle("show")};$(".name").click(function(){myFunction()})}function chooseFile(){document.getElementById("file").click()}$("#file").length&&document.querySelector("#file").addEventListener("change",function(e){var n=e.target.files;console.log(n);var t=n[0],i=URL.createObjectURL(t);document.querySelector(".null-img").style.backgroundImage="url('"+i+"')",document.getElementById("img-des").innerHTML=document.getElementById("file").files[0].name}),$(".btn-simple").click(function(){$(".filter-btn").hasClass("active-filter")?$(".btn-button-filter").click():alert("msg")}),$(document).ready(function(){$(".minus").click(function(){var e=$(this).parent().find("input"),n=parseInt(e.val())-1;return n=n<1?1:n,e.val(n),e.change(),!1}),$(".plus").click(function(){var e=$(this).parent().find("input");return e.val(parseInt(e.val())+1),e.change(),!1})}),$(".toggleCollapse").click(function(){$(".contrasena-toggle").toggleClass("hide")});var i=2;$("#more-price").click(function(e){$("#preciii").append('<div class="d-flex align-items-center m-b-10 m-r-10"><input class="" name="precio[]" type="text" style="position:relative; width:300px!important" placeholder="Precio '+i+'"/><button style="    background: none;" class="delete absolute-ps"><img src="img/close-svg.svg" alt=""></button></div>'),i++}),$("body").on("click",".delete",function(e){$(this).parent("div").remove(),i--}),$(document).ready(function(){$(".more-input-date").click(function(){$("#omisiones").append('<div class="d-flex align-items-center">\n    <input \n    class="modal-input modal-input m-b-5 m-r-5 datepicker-dinamyc" \n    type="text" name="omisiones[]"\n    \n    placeholder="20/09/18" >\n    <button class="dele-omisiones"><img src="img/close-svg.svg" alt="" class="m-b-5"></button>\n     </div>')}),$("body").on("focus",".datepicker-dinamyc",function(){$(this).datepicker({dateFormat:"yy-mm-dd",showButtonPanel:!0,changeMonth:!0,changeYear:!0,defaultDate:0,showAnim:"fold"})})}),$("body").on("click",".dele-omisiones",function(e){$(this).parent("div").remove(),i--}),$("#more-calendar").click(function(){$("#calendar").append('<div class="row no-margin w100 m-b-10" id="calendar" style="    position: relative;">\n                    <div class="col-md-7 d-flex">\n                      <div class="d-flex flex-column align-items-center m-b-10 m-r-10 m-l-40">\n                        <p class="m-b-15">Hora inicio</p>\n                        <input class="modal-time modal-input timepick ui-timepicker-input" type="text" placeholder="ej. 10:00 am" autocomplete="off">\n                      </div>\n                      <div class="d-flex flex-column align-items-center m-b-10 m-r-10">\n                        <p class="m-b-15">Hora término</p>\n                        <input class="modal-time modal-input timepick ui-timepicker-input" type="text" placeholder="ej. 11:00 pm" autocomplete="off">\n                      </div>\n                      <div class="d-flex align-items-end m-b-10"><div class="control-group m-r-5" style="    margin-top: 33px;">\n<label class="control control-checkbox"> Sin restricción horario\n<input type="checkbox">\n<div class="control_indicator" style="margin-top: 3px;"></div>\n</label>\n</div>\n                      </div>\n                    </div>\n                    <div class="col-md-5">\n                      <p class="m-b-15">Días</p>\n                      <div class="d-flex justify-content-center"><div class="control-group m-r-5">\n<label class="control control-checkbox"> L \n<input type="checkbox">\n<div class="control_indicator"></div>\n</label>\n</div>\n<div class="control-group m-r-5">\n<label class="control control-checkbox"> M \n<input type="checkbox">\n<div class="control_indicator"></div>\n</label>\n</div>\n<div class="control-group m-r-5">\n<label class="control control-checkbox"> M\n<input type="checkbox">\n<div class="control_indicator"></div>\n</label>\n</div>\n<div class="control-group m-r-5">\n<label class="control control-checkbox"> J \n<input type="checkbox">\n<div class="control_indicator"></div>\n</label>\n</div>\n<div class="control-group m-r-5">\n<label class="control control-checkbox"> V \n<input type="checkbox">\n<div class="control_indicator"></div>\n</label>\n</div>\n<div class="control-group m-r-5">\n<label class="control control-checkbox"> S \n<input type="checkbox">\n<div class="control_indicator"></div>\n</label>\n</div>\n<div class="control-group m-r-5">\n<label class="control control-checkbox"> D\n<input type="checkbox">\n<div class="control_indicator"></div>\n</label>\n</div>\n\n                      </div>\n                    </div>\n                    <button class="delete-calendar" style="    position: absolute;\n    right: -5px;\n    top: 33px;\n    background: no-repeat;"> <img src="img/close-svg.svg" alt=""> </button>\n                  </div>')}),$("body").on("click",".delete-calendar",function(e){$(this).parent("div").remove()}),$("body").on("focus",".timepick",function(){$(this).timepicker()}),$(".link-toggle").click(function(e){e.preventDefault(),$(".visible").toggle("slow",function(){})}),$(".visible-event").click(function(){$("#input-visible").toggle("slow",function(){})}),$(".reservation-visible").click(function(){$("#hide-reservation").toggle("slow",function(){})});var inputs=document.querySelectorAll(".inputfile");Array.prototype.forEach.call(inputs,function(e){var t=e.nextElementSibling,i=t.innerHTML;e.addEventListener("change",function(e){var n="";(n=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?t.querySelector("span").innerHTML=n:t.innerHTML=i})}),$(document).ready(function(){$('.item-li a[href^="#"]').bind("click",function(e){e.preventDefault();var n=$(this).attr("href");return $("html, body").stop().animate({scrollTop:$(n).offset().top},600,function(){location.hash=n}),!1})}),$(window).scroll(function(){var n=$(window).scrollTop();$(".page-section").each(function(e){$(this).position().top<=n&&($(".navigation .expand-dash li.expand-active").removeClass("expand-active"),$(".navigation .expand-dash li").eq(e).addClass("expand-active"))})}).scroll(),$("#change-contrasena").click(function(){$("#hide-contrasena").toggle("slow",function(){})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwiYW5pbWF0ZS5qcyJdLCJuYW1lcyI6WyIkIiwiZm4iLCJhbmltYXRlQ1NTIiwiZWZmZWN0IiwiZGVsYXkiLCJjYWxsYmFjayIsInRoaXMiLCJlYWNoIiwiJHRoaXMiLCJzZXRUaW1lb3V0IiwiYWRkQ2xhc3MiLCJjc3MiLCJ2aXNpYmlsaXR5IiwiaXMiLCJzaG93IiwiYmluZCIsImNhbGwiLCJqUXVlcnkiLCJzbGlkZXIiLCJyYW5nZSIsIm1pbiIsIm1heCIsInN0ZXAiLCJ2YWx1ZXMiLCJzbGlkZSIsImUiLCJ1aSIsImhvdXJzMSIsIk1hdGgiLCJmbG9vciIsIm1pbnV0ZXMxIiwibGVuZ3RoIiwiaHRtbCIsImhvdXJzMiIsIm1pbnV0ZXMyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidG9nZ2xlQ2xhc3NNZW51IiwibXlNZW51IiwiY2xhc3NMaXN0IiwiYWRkIiwiY29udGFpbnMiLCJyZW1vdmUiLCJPblRyYW5zaXRpb25FbmQiLCJjbHNNZW51Iiwib3BwTWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJteUZpbHRlciIsImZpbHRlckJ0biIsImljb25fZmlsdGVyIiwidG9nZ2xlRmlsdGVyIiwiY2xpY2siLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiQWNjb3JkaW9uIiwiZWwiLCJtdWx0aXBsZSIsImxpbmtzIiwiZmluZCIsInRvZ2dsZUNsYXNzIiwib24iLCJkcm9wZG93biIsInByb3RvdHlwZSIsIiRlbCIsImRhdGEiLCIkbmV4dCIsIm5leHQiLCJzbGlkZVRvZ2dsZSIsInBhcmVudCIsIm5vdCIsInNsaWRlVXAiLCJyZW1vdmVDbGFzcyIsInNpYmxpbmdzIiwicHJvcCIsImV2ZW50IiwidmFsIiwiaGVhZGVyIiwiaGVhZGVyVHdvIiwiY2FyZF9jb250ZW50IiwiY2hlY2tVYmljYWNpb24iLCJhbnlCb3hlc0NoZWNrZWQiLCJjaGVja2VkYWQiLCJjaGVja2NhdGVnb3JpYSIsImNoZWNrcHJlY2lvcyIsImNoZWNrcHJvdmVyIiwiY2hlY2thbm90aGVyIiwid2luZG93Iiwic2Nyb2xsIiwid2lkdGgiLCJidG5GaWx0ZXIiLCJpc0ZhbHNlIiwicHJvZHVjdCIsIml0ZW0iLCJldiIsImJnIiwicmVwbGFjZSIsImF0dHIiLCJteUZ1bmN0aW9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b2dnbGUiLCJjaG9vc2VGaWxlIiwiZmlsZXMiLCJ0YXJnZXQiLCJjb25zb2xlIiwibG9nIiwiaW1hZ2UiLCJpbWFnZVVSTCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiaW5uZXJIVE1MIiwibmFtZSIsImhhc0NsYXNzIiwiYWxlcnQiLCJyZWFkeSIsIiRpbnB1dCIsImNvdW50IiwicGFyc2VJbnQiLCJjaGFuZ2UiLCJpIiwiYXBwZW5kIiwiZGF0ZXBpY2tlciIsImRhdGVGb3JtYXQiLCJzaG93QnV0dG9uUGFuZWwiLCJjaGFuZ2VNb250aCIsImNoYW5nZVllYXIiLCJkZWZhdWx0RGF0ZSIsInNob3dBbmltIiwidGltZXBpY2tlciIsInByZXZlbnREZWZhdWx0IiwiaW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsIkFycmF5IiwiZm9yRWFjaCIsImlucHV0IiwibGFiZWwiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJsYWJlbFZhbCIsImZpbGVOYW1lIiwiZ2V0QXR0cmlidXRlIiwidmFsdWUiLCJzcGxpdCIsInBvcCIsInN0b3AiLCJsb2NhdGlvbiIsImhhc2giLCJzY3JvbGxEaXN0YW5jZSIsInBvc2l0aW9uIiwiZXEiXSwibWFwcGluZ3MiOiJhQXdHQSxHQ3hHQSxTQUFBQSxHQUVBQSxFQUFBQyxHQUFBQyxXQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBR0EsT0FBQUMsS0FBQUMsS0FBQSxXQUdBLElBQUFDLEVBQUFSLEVBQUFNLE1BR0FGLEdBQUEsbUJBQUFBLElBR0FDLEVBQUFELEVBR0FBLEVBQUEsR0FJQUssV0FBQSxXQUdBRCxFQUFBRSxTQUFBLFlBQUFQLEdBR0EsVUFBQUssRUFBQUcsSUFBQSxlQUdBSCxFQUFBRyxJQUFBLENBQ0FDLFdBQUEsWUFNQUosRUFBQUssR0FBQSxZQUdBTCxFQUFBTSxPQUtBTixFQUFBTyxLQUFBLGdEQUFBLFdBR0EsbUJBQUFWLEdBR0FBLEVBQUFXLEtBQUFWLFNBT0FGLE1BMURBLENBZ0VBYSxRRHZCQWpCLEVBQUEsaUJBQUFrQixPQUFBLENBQ0FDLE9BQUEsRUFDQUMsSUFBQSxJQUNBQyxJQUFBLEtBQ0FDLEtBQUEsR0FDQUMsT0FBQSxDQUFBLElBQUEsTUFDQUMsTUFBQSxTQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUFDLEtBQUFDLE1BQUFILEVBQUFILE9BQUEsR0FBQSxJQUNBTyxFQUFBSixFQUFBSCxPQUFBLEdBQUEsR0FBQUksRUFFQSxHQUFBQSxFQUFBSSxTQUFBSixFQUFBLElBQUFBLEdBQ0EsR0FBQUcsRUFBQUMsU0FBQUQsRUFBQSxJQUFBQSxHQUNBLEdBQUFBLElBQUFBLEVBQUEsTUFDQSxJQUFBSCxHQUNBLElBQUFBLEVBQ0FBLEVBQUFBLEVBR0FBLEdBQUEsR0FGQUcsR0FBQSxRQU1BSCxFQUFBQSxFQUNBRyxHQUFBLE9BRUEsR0FBQUgsSUFDQUEsRUFBQSxHQUNBRyxFQUFBQSxHQUtBOUIsRUFBQSxnQkFBQWdDLEtBQUFMLEVBQUEsSUFBQUcsR0FFQSxJQUFBRyxFQUFBTCxLQUFBQyxNQUFBSCxFQUFBSCxPQUFBLEdBQUEsSUFDQVcsRUFBQVIsRUFBQUgsT0FBQSxHQUFBLEdBQUFVLEVBRUEsR0FBQUEsRUFBQUYsU0FBQUUsRUFBQSxJQUFBQSxHQUNBLEdBQUFDLEVBQUFILFNBQUFHLEVBQUEsSUFBQUEsR0FDQSxHQUFBQSxJQUFBQSxFQUFBLE1BQ0EsSUFBQUQsRUFDQSxJQUFBQSxHQUNBQSxFQUFBQSxFQUNBQyxHQUFBLE9BQ0EsSUFBQUQsR0FDQUEsRUFBQSxHQUNBQyxFQUFBLFVBRUFELEdBQUEsR0FDQUMsR0FBQSxRQUdBRCxFQUFBQSxFQUNBQyxHQUFBLE9BR0FsQyxFQUFBLGlCQUFBZ0MsS0FBQUMsRUFBQSxJQUFBQyxNQU9BQyxTQUFBQyxjQUFBLFNBQUEsQ0FBQSxJQUlBQyxnQkFBQSxXQUNBQyxPQUFBQyxVQUFBQyxJQUFBLG9CQUNBRixPQUFBQyxVQUFBRSxTQUFBLGlCQUtBSCxPQUFBQyxVQUFBRyxPQUFBLGtCQUpBSixPQUFBQyxVQUFBQyxJQUFBLGlCQUNBTCxTQUFBQyxjQUFBLFFBQUFHLFVBQUFHLE9BQUEsWUFPQUMsZ0JBQUEsV0FDQUwsT0FBQUMsVUFBQUcsT0FBQSxxQkFmQUosT0FBQUgsU0FBQUMsY0FBQSxTQUNBUSxRQUFBVCxTQUFBQyxjQUFBLGtCQUNBUyxRQUFBVixTQUFBQyxjQUFBLFFBa0JBUyxRQUFBQyxpQkFBQSxRQUFBVCxpQkFBQSxHQUNBTyxRQUFBRSxpQkFBQSxRQUFBVCxpQkFBQSxHQVNBLEdBQUFGLFNBQUFDLGNBQUEsc0JBQUEsQ0FDQSxJQUFBVyxTQUFBWixTQUFBQyxjQUFBLHNCQUNBWSxVQUFBYixTQUFBQyxjQUFBLGVBQ0FhLFlBQUFkLFNBQUFDLGNBQUEsc0JBQ0FXLFNBQUFELGlCQUFBLFFBQUFJLGNBQUEsR0FPQSxTQUFBQSxlQUNBRixVQUFBVCxVQUFBRSxTQUFBLGtCQWFBTyxVQUFBVCxVQUFBRyxPQUFBLGlCQUNBTyxZQUFBVixVQUFBRyxPQUFBLGlCQWJBTSxVQUFBVCxVQUFBQyxJQUFBLGlCQUNBUyxZQUFBVixVQUFBQyxJQUFBLGVBQ0F4QyxFQUFBLHNCQUFBbUQsTUFBQSxXQUNBbkQsRUFBQSxjQUFBb0QsUUFBQSxDQUNBQyxVQUFBckQsRUFBQSxlQUFBc0QsU0FBQUMsS0FFQSxRQW1CQXZELEVBQUEsV0FDQSxJQUFBd0QsRUFBQSxTQUFBQyxFQUFBQyxHQUNBcEQsS0FBQW1ELEdBQUFBLEdBQUEsR0FDQW5ELEtBQUFvRCxTQUFBQSxJQUFBLEVBRUEsSUFBQUMsRUFBQXJELEtBQUFtRCxHQUFBRyxLQUFBLGtCQUNBRCxFQUFBUixNQUFBLFdBQ0FuRCxFQUFBTSxNQUFBdUQsWUFBQSxpQkFFQUYsRUFBQUcsR0FBQSxRQUFBLENBRUFMLEdBQUFuRCxLQUFBbUQsR0FDQUMsU0FBQXBELEtBQUFvRCxVQUNBcEQsS0FBQXlELFdBR0FQLEVBQUFRLFVBQUFELFNBQUEsU0FBQXRDLEdBQ0EsSUFBQXdDLEVBQUF4QyxFQUFBeUMsS0FBQVQsR0FDQWpELEVBQUFSLEVBQUFNLE1BQ0E2RCxFQUFBM0QsRUFBQTRELE9BRUFELEVBQUFFLGNBQ0E3RCxFQUFBOEQsU0FBQVQsWUFBQSxRQUVBcEMsRUFBQXlDLEtBQUFSLFVBQ0FPLEVBQUFMLEtBQUEscUJBQUFXLElBQUFKLEdBQUFLLFVBQUFGLFNBQUFHLFlBQUEsU0FHQSxJQUFBakIsRUFBQXhELEVBQUEsY0FBQSxHQUVBQSxFQUFBLFNBQUE4RCxHQUFBLFNBQUEsV0FDQTlELEVBQUFNLE1BQUFvRSxTQUFBLDBCQUFBSCxJQUFBakUsTUFBQXFFLEtBQUEsV0FBQSxPQU9BM0UsRUFBQSx1QkFBQWtCLE9BQUEsQ0FDQUMsT0FBQSxFQUNBQyxJQUFBLEVBQ0FDLElBQUEsSUFDQUUsT0FBQSxDQUFBLEVBQUEsT0FDQUMsTUFBQSxTQUFBb0QsRUFBQWxELEdBQ0ExQixFQUFBLHNCQUFBNkUsSUFBQSxJQUFBbkQsRUFBQUgsT0FBQSxJQUNBdkIsRUFBQSx1QkFBQTZFLElBQUEsSUFBQW5ELEVBQUFILE9BQUEsT0FjQSxJQUFBdUQsT0FBQTlFLEVBQUEsbUJBQ0ErRSxVQUFBL0UsRUFBQSxtQkFDQWdGLGFBQUFoRixFQUFBLGVBaUNBLFNBQUFpRixpQkFDQSxJQUFBQyxHQUFBLEVBUUEsR0FQQWxGLEVBQUEsbURBQUFPLEtBQUEsV0FDQVAsRUFBQU0sTUFBQU8sR0FBQSxjQUNBcUUsR0FBQSxFQUNBbEYsRUFBQSxjQUFBVyxJQUFBLFVBQUEsWUFJQSxHQUFBdUUsRUFHQSxPQURBbEYsRUFBQSxjQUFBVyxJQUFBLFVBQUEsU0FDQSxFQVFBLFNBQUF3RSxZQUNBLElBQUFELEdBQUEsRUFRQSxHQVBBbEYsRUFBQSw4Q0FBQU8sS0FBQSxXQUNBUCxFQUFBTSxNQUFBTyxHQUFBLGNBQ0FxRSxHQUFBLEVBQ0FsRixFQUFBLGFBQUFXLElBQUEsVUFBQSxZQUlBLEdBQUF1RSxFQUdBLE9BREFsRixFQUFBLGFBQUFXLElBQUEsVUFBQSxTQUNBLEVBUUEsU0FBQXlFLGlCQUNBLElBQUFGLEdBQUEsRUFRQSxHQVBBbEYsRUFBQSxtREFBQU8sS0FBQSxXQUNBUCxFQUFBTSxNQUFBTyxHQUFBLGNBQ0FxRSxHQUFBLEVBQ0FsRixFQUFBLGtCQUFBVyxJQUFBLFVBQUEsWUFJQSxHQUFBdUUsRUFHQSxPQURBbEYsRUFBQSxrQkFBQVcsSUFBQSxVQUFBLFNBQ0EsRUFPQSxTQUFBMEUsZUFDQSxJQUFBSCxHQUFBLEVBUUEsR0FQQWxGLEVBQUEsaURBQUFPLEtBQUEsV0FDQVAsRUFBQU0sTUFBQU8sR0FBQSxjQUNBcUUsR0FBQSxFQUNBbEYsRUFBQSxnQkFBQVcsSUFBQSxVQUFBLFlBSUEsR0FBQXVFLEVBR0EsT0FEQWxGLEVBQUEsZ0JBQUFXLElBQUEsVUFBQSxTQUNBLEVBUUEsU0FBQTJFLGNBQ0EsSUFBQUosR0FBQSxFQVFBLEdBUEFsRixFQUFBLGdEQUFBTyxLQUFBLFdBQ0FQLEVBQUFNLE1BQUFPLEdBQUEsY0FDQXFFLEdBQUEsRUFDQWxGLEVBQUEsZUFBQVcsSUFBQSxVQUFBLFlBSUEsR0FBQXVFLEVBR0EsT0FEQWxGLEVBQUEsZUFBQVcsSUFBQSxVQUFBLFNBQ0EsRUFRQSxTQUFBNEUsZUFDQSxJQUFBTCxHQUFBLEVBUUEsR0FQQWxGLEVBQUEsaURBQUFPLEtBQUEsV0FDQVAsRUFBQU0sTUFBQU8sR0FBQSxjQUNBcUUsR0FBQSxFQUNBbEYsRUFBQSxnQkFBQVcsSUFBQSxVQUFBLFlBSUEsR0FBQXVFLEVBR0EsT0FEQWxGLEVBQUEsZ0JBQUFXLElBQUEsVUFBQSxTQUNBLEVBTUEsR0FySkFYLEVBQUF3RixRQUFBQyxPQUFBLFdBRUEsS0FEQXpGLEVBQUF3RixRQUFBbkMsYUFFQXlCLE9BQUFwRSxTQUFBLFNBQ0FxRSxVQUFBckUsU0FBQSxXQUdBb0UsT0FBQUwsWUFBQSxTQUNBTSxVQUFBTixZQUFBLFlBU0F6RSxFQUFBLHNCQUFBbUQsTUFBQSxXQUNBbkQsRUFBQSx3QkFBQU8sS0FBQSxXQUNBLEdBQUFQLEVBQUFNLE1BQUFPLEdBQUEsWUFFQSxPQURBYixFQUFBLHNCQUFBVSxTQUFBLGdCQUNBLEVBRUFWLEVBQUEsc0JBQUF5RSxZQUFBLG1CQUtBekUsRUFBQSxtREFBQW1ELE1BQUEsV0FDQThCLG1CQW1CQWpGLEVBQUEsOENBQUFtRCxNQUFBLFdBQ0FnQyxjQW1CQW5GLEVBQUEsbURBQUFtRCxNQUFBLFdBQ0FpQyxtQkFrQkFwRixFQUFBLGlEQUFBbUQsTUFBQSxXQUNBa0MsaUJBbUJBckYsRUFBQSxnREFBQW1ELE1BQUEsV0FDQW1DLGdCQW1CQXRGLEVBQUEsaURBQUFtRCxNQUFBLFdBQ0FvQyxpQkFxQkF2RixFQUFBd0YsUUFBQUUsUUFBQSxJQUFBLENBQUEsSUFLQUMsVUFBQSxXQUNBLElBQUFDLEdBQUEsRUFDQTVGLEVBQUEsd0JBQUFPLEtBQUEsV0FDQVAsRUFBQU0sTUFBQU8sR0FBQSxjQUNBK0UsR0FBQSxFQUNBNUYsRUFBQSxlQUFBVyxJQUFBLFVBQUEsU0FDQVgsRUFBQSxlQUFBVSxTQUFBLG1CQUtBLEdBQUFrRixJQUVBNUYsRUFBQSxlQUFBVyxJQUFBLFVBQUEsUUFDQVgsRUFBQSxlQUFBeUUsWUFBQSxrQkFsQkF6RSxFQUFBLHdCQUFBbUQsTUFBQSxXQUNBd0MsY0EyQkEsR0FBQTNGLEVBQUEsaUJBQUErQixPQUFBLENBQ0EsSUFBQThELFFBQUE3RixFQUFBLGlCQUNBOEYsS0FBQTlGLEVBQUEsa0JBRUE4RixLQUFBM0MsTUFBQSxTQUFBNEMsR0FDQSxJQUFBQyxFQUFBaEcsRUFBQU0sTUFBQUssSUFBQSxvQkFDQXFGLEVBQUFBLEVBQUFDLFFBQUEsT0FBQSxJQUFBQSxRQUFBLElBQUEsSUFHQUosUUFBQUssS0FBQSxNQUFBRixFQUFBQyxRQUFBLFNBQUEsT0FhQSxHQUFBakcsRUFBQSxTQUFBLENBQUEsSUFFQW1HLFdBQUEsV0FDQWhFLFNBQUFpRSxlQUFBLGNBQUE3RCxVQUFBOEQsT0FBQSxTQUlBckcsRUFBQSxTQUFBbUQsTUFBQSxXQUNBZ0QsZUFRQSxTQUFBRyxhQUNBbkUsU0FBQWlFLGVBQUEsUUFBQWpELFFBSUFuRCxFQUFBLFNBQUErQixRQUNBSSxTQUFBQyxjQUFBLFNBQ0FVLGlCQUFBLFNBQUEsU0FBQWlELEdBQ0EsSUFBQVEsRUFBQVIsRUFBQVMsT0FBQUQsTUFDQUUsUUFBQUMsSUFBQUgsR0FDQSxJQUFBSSxFQUFBSixFQUFBLEdBQ0FLLEVBQUFDLElBQUFDLGdCQUFBSCxHQUNBeEUsU0FBQUMsY0FBQSxhQUNBMkUsTUFBQUMsZ0JBQUEsUUFBQUosRUFBQSxLQUNBekUsU0FBQWlFLGVBQUEsV0FBQWEsVUFBQTlFLFNBQUFpRSxlQUFBLFFBQUFHLE1BQUEsR0FBQVcsT0FnQkFsSCxFQUFBLGVBQUFtRCxNQUFBLFdBQ0FuRCxFQUFBLGVBQUFtSCxTQUFBLGlCQUNBbkgsRUFBQSxzQkFBQW1ELFFBRUFpRSxNQUFBLFNBT0FwSCxFQUFBbUMsVUFBQWtGLE1BQUEsV0FDQXJILEVBQUEsVUFBQW1ELE1BQUEsV0FDQSxJQUFBbUUsRUFBQXRILEVBQUFNLE1BQUFnRSxTQUFBVixLQUFBLFNBQ0EyRCxFQUFBQyxTQUFBRixFQUFBekMsT0FBQSxFQUlBLE9BSEEwQyxFQUFBQSxFQUFBLEVBQUEsRUFBQUEsRUFDQUQsRUFBQXpDLElBQUEwQyxHQUNBRCxFQUFBRyxVQUNBLElBRUF6SCxFQUFBLFNBQUFtRCxNQUFBLFdBQ0EsSUFBQW1FLEVBQUF0SCxFQUFBTSxNQUFBZ0UsU0FBQVYsS0FBQSxTQUdBLE9BRkEwRCxFQUFBekMsSUFBQTJDLFNBQUFGLEVBQUF6QyxPQUFBLEdBQ0F5QyxFQUFBRyxVQUNBLE1BVUF6SCxFQUFBLG1CQUFBbUQsTUFBQSxXQUNBbkQsRUFBQSxzQkFBQTZELFlBQUEsVUFPQSxJQUFBNkQsRUFBQSxFQUNBMUgsRUFBQSxlQUFBbUQsTUFBQSxTQUFBMUIsR0FFQXpCLEVBQUEsWUFBQTJILE9BQUEseUtBQUFELEVBQUEsMkhBQ0FBLE1BRUExSCxFQUFBLFFBQUE4RCxHQUFBLFFBQUEsVUFBQSxTQUFBckMsR0FDQXpCLEVBQUFNLE1BQUFnRSxPQUFBLE9BQUE1QixTQUNBZ0YsTUFHQTFILEVBQUFtQyxVQUFBa0YsTUFBQSxXQUNBckgsRUFBQSxvQkFBQW1ELE1BQUEsV0FFQW5ELEVBQUEsY0FBQTJILE9BQUEsb1RBU0EzSCxFQUFBLFFBQUE4RCxHQUFBLFFBQUEsc0JBQUEsV0FDQTlELEVBQUFNLE1BQUFzSCxXQUFBLENBQ0FDLFdBQUEsV0FDQUMsaUJBQUEsRUFDQUMsYUFBQSxFQUNBQyxZQUFBLEVBQ0FDLFlBQUEsRUFDQUMsU0FBQSxhQVNBbEksRUFBQSxRQUFBOEQsR0FBQSxRQUFBLGtCQUFBLFNBQUFyQyxHQUNBekIsRUFBQU0sTUFBQWdFLE9BQUEsT0FBQTVCLFNBQ0FnRixNQU1BMUgsRUFBQSxrQkFBQW1ELE1BQUEsV0F3RUFuRCxFQUFBLGFBQUEySCxPQXZFQTNGLHFyRkE0RUFoQyxFQUFBLFFBQUE4RCxHQUFBLFFBQUEsbUJBQUEsU0FBQXJDLEdBQ0F6QixFQUFBTSxNQUFBZ0UsT0FBQSxPQUFBNUIsV0FHQTFDLEVBQUEsUUFBQThELEdBQUEsUUFBQSxZQUFBLFdBQ0E5RCxFQUFBTSxNQUFBNkgsZUFLQW5JLEVBQUEsZ0JBQUFtRCxNQUFBLFNBQUExQixHQUNBQSxFQUFBMkcsaUJBQ0FwSSxFQUFBLFlBQUFxRyxPQUFBLE9BQUEsZ0JBTUFyRyxFQUFBLGtCQUFBbUQsTUFBQSxXQUNBbkQsRUFBQSxrQkFBQXFHLE9BQUEsT0FBQSxnQkFLQXJHLEVBQUEsd0JBQUFtRCxNQUFBLFdBQ0FuRCxFQUFBLHFCQUFBcUcsT0FBQSxPQUFBLGdCQVNBLElBQUFnQyxPQUFBbEcsU0FBQW1HLGlCQUFBLGNBQ0FDLE1BQUF2RSxVQUFBd0UsUUFBQXhILEtBQUFxSCxPQUFBLFNBQUFJLEdBRUEsSUFBQUMsRUFBQUQsRUFBQUUsbUJBQ0FDLEVBQUFGLEVBQUF6QixVQUVBd0IsRUFBQTNGLGlCQUFBLFNBQUEsU0FBQXJCLEdBRUEsSUFBQW9ILEVBQUEsSUFFQUEsRUFEQXZJLEtBQUFpRyxPQUFBLEVBQUFqRyxLQUFBaUcsTUFBQXhFLFFBQ0F6QixLQUFBd0ksYUFBQSwwQkFBQSxJQUFBN0MsUUFBQSxVQUFBM0YsS0FBQWlHLE1BQUF4RSxRQUVBTixFQUFBK0UsT0FBQXVDLE1BQUFDLE1BQUEsTUFBQUMsT0FHQVAsRUFBQXRHLGNBQUEsUUFBQTZFLFVBQUE0QixFQUVBSCxFQUFBekIsVUFBQTJCLE1BUUE1SSxFQUFBbUMsVUFBQWtGLE1BQUEsV0FDQXJILEVBQUEseUJBQUFlLEtBQUEsUUFBQSxTQUFBVSxHQUNBQSxFQUFBMkcsaUJBRUEsSUFBQTVCLEVBQUF4RyxFQUFBTSxNQUFBNEYsS0FBQSxRQVNBLE9BTkFsRyxFQUFBLGNBQUFrSixPQUFBOUYsUUFBQSxDQUNBQyxVQUFBckQsRUFBQXdHLEdBQUFsRCxTQUFBQyxLQUNBLElBQUEsV0FDQTRGLFNBQUFDLEtBQUE1QyxLQUdBLE1BSUF4RyxFQUFBd0YsUUFBQUMsT0FBQSxXQUNBLElBQUE0RCxFQUFBckosRUFBQXdGLFFBQUFuQyxZQVVBckQsRUFBQSxpQkFBQU8sS0FBQSxTQUFBbUgsR0FDQTFILEVBQUFNLE1BQUFnSixXQUFBL0YsS0FBQThGLElBQ0FySixFQUFBLDZDQUFBeUUsWUFBQSxpQkFDQXpFLEVBQUEsK0JBQUF1SixHQUFBN0IsR0FBQWhILFNBQUEsc0JBR0ErRSxTQVNBekYsRUFBQSxzQkFBQW1ELE1BQUEsV0FFQW5ELEVBQUEsb0JBQUFxRyxPQUFBLE9BQUEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIENyb3BwaWVcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcbi8qJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICB2YXIgYmFzaWMgPSAkKCcjbWFpbi1jcm9wcGVyJykuY3JvcHBpZSh7XHJcbiAgICB2aWV3cG9ydDogeyB3aWR0aDogMjUwLCBoZWlnaHQ6IDI1MCB9LFxyXG4gICAgYm91bmRhcnk6IHsgd2lkdGg6IDMwMCwgaGVpZ2h0OiAzMDAgfSxcclxuICAgIHNob3dab29tZXI6IGZhbHNlLFxyXG4gICAgdXJsOiAnLi4vaW1nL3BsYWNlaG9sZGVyLnBuZydcclxufSk7XHJcblxyXG5mdW5jdGlvbiByZWFkRmlsZShpbnB1dCkge1xyXG4gIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xyXG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICQoJyNtYWluLWNyb3BwZXInKS5jcm9wcGllKCdiaW5kJywge1xyXG4gICAgICAgIHVybDogZS50YXJnZXQucmVzdWx0XHJcbiAgICAgIH0pO1xyXG4gICAgICAkKCcuYWN0aW9uRG9uZScpLnRvZ2dsZSgpO1xyXG4gICAgICAkKCcuYWN0aW9uVXBsb2FkJykudG9nZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xyXG4gIH1cclxufVxyXG5cclxuJCgnLmFjdGlvblVwbG9hZCBpbnB1dCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7IHJlYWRGaWxlKHRoaXMpOyB9KTtcclxuJCgnLmFjdGlvbkRvbmUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICQoJy5hY3Rpb25Eb25lJykudG9nZ2xlKCk7XHJcbiAgJCgnLmFjdGlvblVwbG9hZCcpLnRvZ2dsZSgpO1xyXG59KVxyXG59KVxyXG4qL1xyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFJhbmdlIFNsaWRlclxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG4kKFwiI3NsaWRlci1yYW5nZVwiKS5zbGlkZXIoe1xyXG4gICAgcmFuZ2U6IHRydWUsXHJcbiAgICBtaW46IDQ4MCxcclxuICAgIG1heDogMTM4MCxcclxuICAgIHN0ZXA6IDE1LFxyXG4gICAgdmFsdWVzOiBbNDgwLCAxMzgwXSxcclxuICAgIHNsaWRlOiBmdW5jdGlvbiAoZSwgdWkpIHtcclxuICAgICAgICB2YXIgaG91cnMxID0gTWF0aC5mbG9vcih1aS52YWx1ZXNbMF0gLyA2MCk7XHJcbiAgICAgICAgdmFyIG1pbnV0ZXMxID0gdWkudmFsdWVzWzBdIC0gKGhvdXJzMSAqIDYwKTtcclxuXHJcbiAgICAgICAgaWYgKGhvdXJzMS5sZW5ndGggPT0gMSkgaG91cnMxID0gJzAnICsgaG91cnMxO1xyXG4gICAgICAgIGlmIChtaW51dGVzMS5sZW5ndGggPT0gMSkgbWludXRlczEgPSAnMCcgKyBtaW51dGVzMTtcclxuICAgICAgICBpZiAobWludXRlczEgPT0gMCkgbWludXRlczEgPSAnMDAnO1xyXG4gICAgICAgIGlmIChob3VyczEgPj0gMTIpIHtcclxuICAgICAgICAgICAgaWYgKGhvdXJzMSA9PSAxMikge1xyXG4gICAgICAgICAgICAgICAgaG91cnMxID0gaG91cnMxO1xyXG4gICAgICAgICAgICAgICAgbWludXRlczEgPSBtaW51dGVzMSArIFwiIFBNXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBob3VyczEgPSBob3VyczEgLSAxMjtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMxID0gbWludXRlczEgKyBcIiBQTVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaG91cnMxID0gaG91cnMxO1xyXG4gICAgICAgICAgICBtaW51dGVzMSA9IG1pbnV0ZXMxICsgXCIgQU1cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGhvdXJzMSA9PSAwKSB7XHJcbiAgICAgICAgICAgIGhvdXJzMSA9IDEyO1xyXG4gICAgICAgICAgICBtaW51dGVzMSA9IG1pbnV0ZXMxO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAkKCcuc2xpZGVyLXRpbWUnKS5odG1sKGhvdXJzMSArICc6JyArIG1pbnV0ZXMxKTtcclxuXHJcbiAgICAgICAgdmFyIGhvdXJzMiA9IE1hdGguZmxvb3IodWkudmFsdWVzWzFdIC8gNjApO1xyXG4gICAgICAgIHZhciBtaW51dGVzMiA9IHVpLnZhbHVlc1sxXSAtIChob3VyczIgKiA2MCk7XHJcblxyXG4gICAgICAgIGlmIChob3VyczIubGVuZ3RoID09IDEpIGhvdXJzMiA9ICcwJyArIGhvdXJzMjtcclxuICAgICAgICBpZiAobWludXRlczIubGVuZ3RoID09IDEpIG1pbnV0ZXMyID0gJzAnICsgbWludXRlczI7XHJcbiAgICAgICAgaWYgKG1pbnV0ZXMyID09IDApIG1pbnV0ZXMyID0gJzAwJztcclxuICAgICAgICBpZiAoaG91cnMyID49IDEyKSB7XHJcbiAgICAgICAgICAgIGlmIChob3VyczIgPT0gMTIpIHtcclxuICAgICAgICAgICAgICAgIGhvdXJzMiA9IGhvdXJzMjtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMyID0gbWludXRlczIgKyBcIiBQTVwiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhvdXJzMiA9PSAyNCkge1xyXG4gICAgICAgICAgICAgICAgaG91cnMyID0gMTE7XHJcbiAgICAgICAgICAgICAgICBtaW51dGVzMiA9IFwiNTkgUE1cIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhvdXJzMiA9IGhvdXJzMiAtIDEyO1xyXG4gICAgICAgICAgICAgICAgbWludXRlczIgPSBtaW51dGVzMiArIFwiIFBNXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBob3VyczIgPSBob3VyczI7XHJcbiAgICAgICAgICAgIG1pbnV0ZXMyID0gbWludXRlczIgKyBcIiBBTVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgnLnNsaWRlci10aW1lMicpLmh0bWwoaG91cnMyICsgJzonICsgbWludXRlczIpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBNb2JpbGUgTWVudVxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVcIikpIHtcclxudmFyIG15TWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudVwiKTtcclxudmFyIGNsc01lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1tb2JpbGVcIik7XHJcbnZhciBvcHBNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oYW1cIik7IFxyXG5mdW5jdGlvbiB0b2dnbGVDbGFzc01lbnUoKSB7XHJcbiAgICBteU1lbnUuY2xhc3NMaXN0LmFkZChcIm1lbnUtLWFuaW1hdGFibGVcIik7ICAgXHJcbiAgICBpZighbXlNZW51LmNsYXNzTGlzdC5jb250YWlucyhcIm1lbnUtLXZpc2libGVcIikpIHsgICAgICAgXHJcbiAgICAgICAgbXlNZW51LmNsYXNzTGlzdC5hZGQoXCJtZW51LS12aXNpYmxlXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtXCIpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBteU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnbWVudS0tdmlzaWJsZScpOyAgICAgICBcclxuICAgIH0gICBcclxufVxyXG5cclxuZnVuY3Rpb24gT25UcmFuc2l0aW9uRW5kKCkge1xyXG4gICAgbXlNZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJtZW51LS1hbmltYXRhYmxlXCIpO1xyXG59XHJcblxyXG5cclxuXHJcbm9wcE1lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZUNsYXNzTWVudSwgZmFsc2UpO1xyXG5jbHNNZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVDbGFzc01lbnUsIGZhbHNlKTtcclxufWVsc2V7XHJcblxyXG59XHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIEJ0biBGaWx0ZXJcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovIFxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi1idXR0b24tZmlsdGVyJykpIHtcclxuICB2YXIgbXlGaWx0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWJ1dHRvbi1maWx0ZXInKTtcclxuICB2YXIgZmlsdGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlci1idG4nKTtcclxuICB2YXIgaWNvbl9maWx0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWJ1dHRvbi1maWx0ZXInKTtcclxuICBteUZpbHRlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlRmlsdGVyLCBmYWxzZSk7XHJcblxyXG59ZWxzZXtcclxuXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB0b2dnbGVGaWx0ZXIoKSB7XHJcbiAgICBpZighZmlsdGVyQnRuLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1maWx0ZXJcIikpIHsgICAgICAgXHJcbiAgICAgICAgZmlsdGVyQnRuLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtZmlsdGVyXCIpO1xyXG4gICAgICAgIGljb25fZmlsdGVyLmNsYXNzTGlzdC5hZGQoJ3JvdGF0ZS1pY29uJyk7XHJcbiAgICAgICAgJCgnLmJ0bi1idXR0b24tZmlsdGVyJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICBzY3JvbGxUb3A6ICQoXCIuZmlsdGVyLWJ0blwiKS5vZmZzZXQoKS50b3BcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgMTAwKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgIFxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGZpbHRlckJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtZmlsdGVyJyk7XHJcbiAgICAgICAgIGljb25fZmlsdGVyLmNsYXNzTGlzdC5yZW1vdmUoJ3JvdGF0ZS1pY29uJyk7ICAgICAgIFxyXG4gICAgfSAgIFxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIENvbGxhcHNlIEZpbHRlclxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuJChmdW5jdGlvbigpIHtcclxuICAgIHZhciBBY2NvcmRpb24gPSBmdW5jdGlvbihlbCwgbXVsdGlwbGUpIHtcclxuICAgICAgICB0aGlzLmVsID0gZWwgfHwge307XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZSA9IG11bHRpcGxlIHx8IGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgbGlua3MgPSB0aGlzLmVsLmZpbmQoJy5pdGVtLWNvbGxhcHNlJyk7XHJcbiAgICAgICAgbGlua3MuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ3JvdGF0ZS1pY29uJyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBsaW5rcy5vbignY2xpY2snLCB7XHJcblxyXG4gICAgICAgICAgICBlbDogdGhpcy5lbCxcclxuICAgICAgICAgICAgbXVsdGlwbGU6IHRoaXMubXVsdGlwbGVcclxuICAgICAgICB9LCB0aGlzLmRyb3Bkb3duKVxyXG4gICAgfVxyXG5cclxuICAgIEFjY29yZGlvbi5wcm90b3R5cGUuZHJvcGRvd24gPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyICRlbCA9IGUuZGF0YS5lbDtcclxuICAgICAgICBsZXQgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgIGxldCAkbmV4dCA9ICR0aGlzLm5leHQoKTtcclxuXHJcbiAgICAgICAgJG5leHQuc2xpZGVUb2dnbGUoKTtcclxuICAgICAgICAkdGhpcy5wYXJlbnQoKS50b2dnbGVDbGFzcygnb3BlbicpO1xyXG5cclxuICAgICAgICBpZiAoIWUuZGF0YS5tdWx0aXBsZSkge1xyXG4gICAgICAgICAgICAkZWwuZmluZCgnLmNvbGxhcHNlLWNvbnRlbnQnKS5ub3QoJG5leHQpLnNsaWRlVXAoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICB2YXIgYWNjb3JkaW9uID0gbmV3IEFjY29yZGlvbigkKCcuY29sbGFwc2UnKSwgdHJ1ZSk7XHJcblxyXG4gICAgJCgnbGFiZWwnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICQodGhpcykuc2libGluZ3MoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLm5vdCh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFNsaWRlciBQcmljZVxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG4kKCBcIiNzbGlkZXItcmFuZ2UtcHJpY2VcIiApLnNsaWRlcih7XHJcbiAgICAgIHJhbmdlOiB0cnVlLFxyXG4gICAgICBtaW46IDAsXHJcbiAgICAgIG1heDogNTAwLFxyXG4gICAgICB2YWx1ZXM6IFsgMCwgOTk5OTkgXSxcclxuICAgICAgc2xpZGU6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XHJcbiAgICAgICAgJCggXCIjYW1vdW50IC5wcmljZS1vbmVcIiApLnZhbChcIiRcIiArIHVpLnZhbHVlc1sgMCBdKTtcclxuICAgICAgICAgJCggXCIjYW1vdW50IC5zZWNvbmQtb25lXCIgKS52YWwoXCIkXCIgKyB1aS52YWx1ZXNbIDEgXSApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgTW9kYWxcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBKUyBTY3JvbGwgQnRuIEZJbHRlclxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuXHJcblxyXG52YXIgaGVhZGVyID0gJChcIi5maWx0ZXItc2VjdGlvblwiKTtcclxudmFyIGhlYWRlclR3byA9ICQoJyNtYWluLWZpeGVkLW5hdicpXHJcbmxldCBjYXJkX2NvbnRlbnQgPSAkKCcuZmlsdGVyLWJ0bicpO1xyXG4gICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7ICAgIFxyXG4gICAgdmFyIHNjcm9sbCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgIGlmIChzY3JvbGwgPj0gMjAwKSB7XHJcbiAgICAgICAgICBoZWFkZXIuYWRkQ2xhc3MoXCJmaXhlZFwiKTtcclxuICAgICAgICAgIGhlYWRlclR3by5hZGRDbGFzcygnc3R5a2knKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGhlYWRlci5yZW1vdmVDbGFzcyhcImZpeGVkXCIpO1xyXG4gICAgICAgICAgaGVhZGVyVHdvLnJlbW92ZUNsYXNzKCdzdHlraScpXHJcbiAgICAgICAgfVxyXG59KVxyXG5cclxuICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIENoZWNrYm94IEFjdGl2ZVxyXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcbiBcclxuICAgXHJcbiQoJy5idG4tYnV0dG9uLWZpbHRlcicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAkKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XHJcbiAgICAgICAgICAgICQoJy5idG4tYnV0dG9uLWZpbHRlcicpLmFkZENsYXNzKCdhY3RpdmVja2VjaycpO1xyXG4gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICQoJy5idG4tYnV0dG9uLWZpbHRlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmVja2VjaycpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KVxyXG5cclxuJChcImxhYmVsW2RhdGEtaWQ9J3ViaWNhY2lvbiddIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gY2hlY2tVYmljYWNpb24oKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVja1ViaWNhY2lvbigpIHtcclxuICAgIHZhciBhbnlCb3hlc0NoZWNrZWQgPSBmYWxzZTtcclxuICAgICQoJ2xhYmVsW2RhdGEtaWQ9XCJ1YmljYWNpb25cIl0gaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuICAgICAgICAgICAgYW55Qm94ZXNDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgJCgnLmJ0bi1jbGVhcicpLmNzcygnZGlzcGxheScsICdibG9jaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiBcclxuICAgIGlmIChhbnlCb3hlc0NoZWNrZWQgPT0gZmFsc2UpIHtcclxuICAgICBcclxuICAgICAgJCgnLmJ0bi1jbGVhcicpLmNzcygnZGlzcGxheScsICdub25lJylcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBcclxufVxyXG5cclxuJChcImxhYmVsW2RhdGEtaWQ9J2VkYWQnXSBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuIGNoZWNrZWRhZCgpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrZWRhZCgpIHtcclxuICAgIHZhciBhbnlCb3hlc0NoZWNrZWQgPSBmYWxzZTtcclxuICAgICQoJ2xhYmVsW2RhdGEtaWQ9XCJlZGFkXCJdIGlucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIGFueUJveGVzQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICQoJy5idG4tZWRhZCcpLmNzcygnZGlzcGxheScsICdibG9jaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiBcclxuICAgIGlmIChhbnlCb3hlc0NoZWNrZWQgPT0gZmFsc2UpIHtcclxuICAgICBcclxuICAgICAgJCgnLmJ0bi1lZGFkJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IFxyXG59XHJcblxyXG4kKFwibGFiZWxbZGF0YS1pZD0nY2F0ZWdvcmlhJ10gaW5wdXRbdHlwZT1jaGVja2JveF1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiBjaGVja2NhdGVnb3JpYSgpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrY2F0ZWdvcmlhKCkge1xyXG4gICAgdmFyIGFueUJveGVzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgJCgnbGFiZWxbZGF0YS1pZD1cImNhdGVnb3JpYVwiXSBpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICBhbnlCb3hlc0NoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAkKCcuYnRuLWNhdGVnb3JpYScpLmNzcygnZGlzcGxheScsICdibG9jaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiBcclxuICAgIGlmIChhbnlCb3hlc0NoZWNrZWQgPT0gZmFsc2UpIHtcclxuICAgICBcclxuICAgICAgJCgnLmJ0bi1jYXRlZ29yaWEnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gXHJcbn1cclxuJChcImxhYmVsW2RhdGEtaWQ9J3ByZWNpb3MnXSBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuIGNoZWNrcHJlY2lvcygpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrcHJlY2lvcygpIHtcclxuICAgIHZhciBhbnlCb3hlc0NoZWNrZWQgPSBmYWxzZTtcclxuICAgICQoJ2xhYmVsW2RhdGEtaWQ9XCJwcmVjaW9zXCJdIGlucHV0W3R5cGU9Y2hlY2tib3hdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIGFueUJveGVzQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICQoJy5idG4tcHJlY2lvcycpLmNzcygnZGlzcGxheScsICdibG9jaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiBcclxuICAgIGlmIChhbnlCb3hlc0NoZWNrZWQgPT0gZmFsc2UpIHtcclxuICAgICBcclxuICAgICAgJCgnLmJ0bi1wcmVjaW9zJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IFxyXG59XHJcblxyXG4kKFwibGFiZWxbZGF0YS1pZD0ncHJvdmVyJ10gaW5wdXRbdHlwZT1jaGVja2JveF1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiBjaGVja3Byb3ZlcigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrcHJvdmVyKCkge1xyXG4gICAgdmFyIGFueUJveGVzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgJCgnbGFiZWxbZGF0YS1pZD1cInByb3ZlclwiXSBpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICBhbnlCb3hlc0NoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAkKCcuYnRuLXByb3ZlcicpLmNzcygnZGlzcGxheScsICdibG9jaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiBcclxuICAgIGlmIChhbnlCb3hlc0NoZWNrZWQgPT0gZmFsc2UpIHtcclxuICAgICBcclxuICAgICAgJCgnLmJ0bi1wcm92ZXInKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gXHJcbn1cclxuXHJcbiQoXCJsYWJlbFtkYXRhLWlkPSdhbm90aGVyJ10gaW5wdXRbdHlwZT1jaGVja2JveF1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiBjaGVja2Fub3RoZXIoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVja2Fub3RoZXIoKSB7XHJcbiAgICB2YXIgYW55Qm94ZXNDaGVja2VkID0gZmFsc2U7XHJcbiAgICAkKCdsYWJlbFtkYXRhLWlkPVwiYW5vdGhlclwiXSBpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICBhbnlCb3hlc0NoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAkKCcuYnRuLWFub3RoZXInKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gXHJcbiAgICBpZiAoYW55Qm94ZXNDaGVja2VkID09IGZhbHNlKSB7XHJcbiAgICAgXHJcbiAgICAgICQoJy5idG4tYW5vdGhlcicpLmNzcygnZGlzcGxheScsICdub25lJylcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBcclxufVxyXG5cclxuXHJcblxyXG5pZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcclxuICAkKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgYnRuRmlsdGVyKClcclxufSlcclxuXHJcbmZ1bmN0aW9uIGJ0bkZpbHRlcigpe1xyXG4gIHZhciBpc0ZhbHNlID0gZmFsc2VcclxuICAkKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XHJcbiAgICAgICAgICBpc0ZhbHNlID0gdHJ1ZSAgXHJcbiAgICAgICAgICAgICQoJy5idG4tc2ltcGxlJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJykgIFxyXG4gICAgICAgICAgICAkKCcuYnRuLXNpbXBsZScpLmFkZENsYXNzKCdidG4tZmxvYXRpbmcnKVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgaWYgKGlzRmFsc2UgPT0gZmFsc2UpIHtcclxuXHJcbiAgJCgnLmJ0bi1zaW1wbGUnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpIFxyXG4gICQoJy5idG4tc2ltcGxlJykucmVtb3ZlQ2xhc3MoJ2J0bi1mbG9hdGluZycpXHJcbn1cclxufVxyXG59XHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFByZXZpZXcgSXRlbXNcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcbmlmICgkKCcuY29udGVudC12aWV3JykubGVuZ3RoKSB7XHJcbiAgICBsZXQgcHJvZHVjdCA9ICQoJy5wcm9kdWN0LXZpZXcnKTtcclxuICAgIGxldCBpdGVtID0gJCgnLnNwYW4tdGh1bWJhaWwnKTtcclxuXHJcbiAgICBpdGVtLmNsaWNrKGZ1bmN0aW9uKGV2KXtcclxuICAgICAgIGxldCBiZyA9ICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJyk7XHJcbiAgICAgICAgICBiZyA9IGJnLnJlcGxhY2UoJ3VybCgnLCcnKS5yZXBsYWNlKCcpJywnJyk7XHJcblxyXG4gICAgICAgICAgXHJcbiAgICAgICAgIHByb2R1Y3QuYXR0cignc3JjJywgYmcucmVwbGFjZSgvWydcIl0rL2csICcnKSk7XHJcblxyXG5cclxuICAgIH0pXHJcbn1lbHNle1xyXG5cclxufVxyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBOYXYgRHJvcFxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuaWYgKCQoJy5uYW1lJykpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBteUZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlEcm9wZG93blwiKS5jbGFzc0xpc3QudG9nZ2xlKFwic2hvd1wiKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgJCgnLm5hbWUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICBteUZ1bmN0aW9uKCk7XHJcbiAgICB9KVxyXG59XHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgVXNlciBBdmF0YXJcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovIFxyXG5cclxuICBmdW5jdGlvbiBjaG9vc2VGaWxlKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsZVwiKS5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAoJCgnI2ZpbGUnKS5sZW5ndGgpIHtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGUnKVxyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKGV2KXtcclxuICAgICAgICAgICAgbGV0IGZpbGVzID0gZXYudGFyZ2V0LmZpbGVzO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlcyk7XHJcbiAgICAgICAgICAgIGxldCBpbWFnZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICBsZXQgaW1hZ2VVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGltYWdlKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm51bGwtaW1nJylcclxuICAgICAgICAgICAgICAgIC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgnXCIrIGltYWdlVVJMICtcIicpXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWctZGVzJykuaW5uZXJIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUnKS5maWxlc1swXS5uYW1lO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBGaXhlZCBuYXZcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcblxyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBCdG4gZmlsdGVyIGFjdGl2ZVxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuJCgnLmJ0bi1zaW1wbGUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gIGlmICgkKCcuZmlsdGVyLWJ0bicpLmhhc0NsYXNzKCdhY3RpdmUtZmlsdGVyJykpIHtcclxuICAgICQoJy5idG4tYnV0dG9uLWZpbHRlcicpLmNsaWNrKClcclxuICB9ZWxzZXtcclxuICAgIGFsZXJ0KCdtc2cnKTtcclxuICB9XHJcbn0pXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgSW5wdXQgY291bnRlclxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAkKCcubWludXMnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcykucGFyZW50KCkuZmluZCgnaW5wdXQnKTtcclxuICAgICAgICB2YXIgY291bnQgPSBwYXJzZUludCgkaW5wdXQudmFsKCkpIC0gMTtcclxuICAgICAgICBjb3VudCA9IGNvdW50IDwgMSA/IDEgOiBjb3VudDtcclxuICAgICAgICAkaW5wdXQudmFsKGNvdW50KTtcclxuICAgICAgICAkaW5wdXQuY2hhbmdlKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgICAgJCgnLnBsdXMnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcykucGFyZW50KCkuZmluZCgnaW5wdXQnKTtcclxuICAgICAgICAkaW5wdXQudmFsKHBhcnNlSW50KCRpbnB1dC52YWwoKSkgKyAxKTtcclxuICAgICAgICAkaW5wdXQuY2hhbmdlKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4gIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgIENvbGxhcHNlIGNhbWJpYXIgY29udHJhc2XDsWFcclxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG5cclxuICAgJCgnLnRvZ2dsZUNvbGxhcHNlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgJCgnLmNvbnRyYXNlbmEtdG9nZ2xlJykudG9nZ2xlQ2xhc3MoJ2hpZGUnKTtcclxuICAgfSlcclxuXHJcblxyXG4gICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgXHJcbiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcbnZhciBpID0gMjtcclxuJChcIiNtb3JlLXByaWNlXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAvL0FwcGVuZCBhIG5ldyByb3cgb2YgY29kZSB0byB0aGUgXCIjaXRlbXNcIiBkaXZcclxuICQoXCIjcHJlY2lpaVwiKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG0tYi0xMCBtLXItMTBcIj48aW5wdXQgY2xhc3M9XCJcIiBuYW1lPVwicHJlY2lvW11cIiB0eXBlPVwidGV4dFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IHdpZHRoOjMwMHB4IWltcG9ydGFudFwiIHBsYWNlaG9sZGVyPVwiUHJlY2lvICcrIGkgKydcIi8+PGJ1dHRvbiBzdHlsZT1cIiAgICBiYWNrZ3JvdW5kOiBub25lO1wiIGNsYXNzPVwiZGVsZXRlIGFic29sdXRlLXBzXCI+PGltZyBzcmM9XCJpbWcvY2xvc2Utc3ZnLnN2Z1wiIGFsdD1cIlwiPjwvYnV0dG9uPjwvZGl2PicpOyBcclxuaSsrO1xyXG59KTtcclxuJChcImJvZHlcIikub24oXCJjbGlja1wiLCBcIi5kZWxldGVcIiwgZnVuY3Rpb24gKGUpIHtcclxuICQodGhpcykucGFyZW50KFwiZGl2XCIpLnJlbW92ZSgpO1xyXG4gaS0tO1xyXG59KTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4kKCcubW9yZS1pbnB1dC1kYXRlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHJcbiAgJChcIiNvbWlzaW9uZXNcIikuYXBwZW5kKGA8ZGl2IGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgPGlucHV0IFxyXG4gICAgY2xhc3M9XCJtb2RhbC1pbnB1dCBtb2RhbC1pbnB1dCBtLWItNSBtLXItNSBkYXRlcGlja2VyLWRpbmFteWNcIiBcclxuICAgIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm9taXNpb25lc1tdXCJcclxuICAgIFxyXG4gICAgcGxhY2Vob2xkZXI9XCIyMC8wOS8xOFwiID5cclxuICAgIDxidXR0b24gY2xhc3M9XCJkZWxlLW9taXNpb25lc1wiPjxpbWcgc3JjPVwiaW1nL2Nsb3NlLXN2Zy5zdmdcIiBhbHQ9XCJcIiBjbGFzcz1cIm0tYi01XCI+PC9idXR0b24+XHJcbiAgICAgPC9kaXY+YClcclxufSlcclxuJCgnYm9keScpLm9uKCdmb2N1cycsXCIuZGF0ZXBpY2tlci1kaW5hbXljXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAkKHRoaXMpLmRhdGVwaWNrZXIoe1xyXG4gICAgICBkYXRlRm9ybWF0OiAneXktbW0tZGQnLFxyXG4gICAgICBzaG93QnV0dG9uUGFuZWw6IHRydWUsXHJcbiAgICAgIGNoYW5nZU1vbnRoOiB0cnVlLFxyXG4gICAgICBjaGFuZ2VZZWFyOiB0cnVlLFxyXG4gICAgICBkZWZhdWx0RGF0ZTogKzAsXHJcbiAgICAgIHNob3dBbmltOiBcImZvbGRcIlxyXG5cclxuICAgIH0pO1xyXG5cclxufSk7XHJcblxyXG59KVxyXG5cclxuXHJcbiQoXCJib2R5XCIpLm9uKFwiY2xpY2tcIiwgXCIuZGVsZS1vbWlzaW9uZXNcIiwgZnVuY3Rpb24gKGUpIHtcclxuICQodGhpcykucGFyZW50KFwiZGl2XCIpLnJlbW92ZSgpO1xyXG4gaS0tO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbiQoJyNtb3JlLWNhbGVuZGFyJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwicm93IG5vLW1hcmdpbiB3MTAwIG0tYi0xMFwiIGlkPVwiY2FsZW5kYXJcIiBzdHlsZT1cIiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC03IGQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIgbS1iLTEwIG0tci0xMCBtLWwtNDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtLWItMTVcIj5Ib3JhIGluaWNpbzwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwibW9kYWwtdGltZSBtb2RhbC1pbnB1dCB0aW1lcGljayB1aS10aW1lcGlja2VyLWlucHV0XCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cImVqLiAxMDowMCBhbVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBtLWItMTAgbS1yLTEwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibS1iLTE1XCI+SG9yYSB0w6lybWlubzwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwibW9kYWwtdGltZSBtb2RhbC1pbnB1dCB0aW1lcGljayB1aS10aW1lcGlja2VyLWlucHV0XCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cImVqLiAxMTowMCBwbVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWVuZCBtLWItMTBcIj48ZGl2IGNsYXNzPVwiY29udHJvbC1ncm91cCBtLXItNVwiIHN0eWxlPVwiICAgIG1hcmdpbi10b3A6IDMzcHg7XCI+XHJcbjxsYWJlbCBjbGFzcz1cImNvbnRyb2wgY29udHJvbC1jaGVja2JveFwiPiBTaW4gcmVzdHJpY2Npw7NuIGhvcmFyaW9cclxuPGlucHV0IHR5cGU9XCJjaGVja2JveFwiPlxyXG48ZGl2IGNsYXNzPVwiY29udHJvbF9pbmRpY2F0b3JcIiBzdHlsZT1cIm1hcmdpbi10b3A6IDNweDtcIj48L2Rpdj5cclxuPC9sYWJlbD5cclxuPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibS1iLTE1XCI+RMOtYXM8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXJcIj48ZGl2IGNsYXNzPVwiY29udHJvbC1ncm91cCBtLXItNVwiPlxyXG48bGFiZWwgY2xhc3M9XCJjb250cm9sIGNvbnRyb2wtY2hlY2tib3hcIj4gTCBcclxuPGlucHV0IHR5cGU9XCJjaGVja2JveFwiPlxyXG48ZGl2IGNsYXNzPVwiY29udHJvbF9pbmRpY2F0b3JcIj48L2Rpdj5cclxuPC9sYWJlbD5cclxuPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb250cm9sLWdyb3VwIG0tci01XCI+XHJcbjxsYWJlbCBjbGFzcz1cImNvbnRyb2wgY29udHJvbC1jaGVja2JveFwiPiBNIFxyXG48aW5wdXQgdHlwZT1cImNoZWNrYm94XCI+XHJcbjxkaXYgY2xhc3M9XCJjb250cm9sX2luZGljYXRvclwiPjwvZGl2PlxyXG48L2xhYmVsPlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbnRyb2wtZ3JvdXAgbS1yLTVcIj5cclxuPGxhYmVsIGNsYXNzPVwiY29udHJvbCBjb250cm9sLWNoZWNrYm94XCI+IE1cclxuPGlucHV0IHR5cGU9XCJjaGVja2JveFwiPlxyXG48ZGl2IGNsYXNzPVwiY29udHJvbF9pbmRpY2F0b3JcIj48L2Rpdj5cclxuPC9sYWJlbD5cclxuPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb250cm9sLWdyb3VwIG0tci01XCI+XHJcbjxsYWJlbCBjbGFzcz1cImNvbnRyb2wgY29udHJvbC1jaGVja2JveFwiPiBKIFxyXG48aW5wdXQgdHlwZT1cImNoZWNrYm94XCI+XHJcbjxkaXYgY2xhc3M9XCJjb250cm9sX2luZGljYXRvclwiPjwvZGl2PlxyXG48L2xhYmVsPlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbnRyb2wtZ3JvdXAgbS1yLTVcIj5cclxuPGxhYmVsIGNsYXNzPVwiY29udHJvbCBjb250cm9sLWNoZWNrYm94XCI+IFYgXHJcbjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj5cclxuPGRpdiBjbGFzcz1cImNvbnRyb2xfaW5kaWNhdG9yXCI+PC9kaXY+XHJcbjwvbGFiZWw+XHJcbjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwiY29udHJvbC1ncm91cCBtLXItNVwiPlxyXG48bGFiZWwgY2xhc3M9XCJjb250cm9sIGNvbnRyb2wtY2hlY2tib3hcIj4gUyBcclxuPGlucHV0IHR5cGU9XCJjaGVja2JveFwiPlxyXG48ZGl2IGNsYXNzPVwiY29udHJvbF9pbmRpY2F0b3JcIj48L2Rpdj5cclxuPC9sYWJlbD5cclxuPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb250cm9sLWdyb3VwIG0tci01XCI+XHJcbjxsYWJlbCBjbGFzcz1cImNvbnRyb2wgY29udHJvbC1jaGVja2JveFwiPiBEXHJcbjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj5cclxuPGRpdiBjbGFzcz1cImNvbnRyb2xfaW5kaWNhdG9yXCI+PC9kaXY+XHJcbjwvbGFiZWw+XHJcbjwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkZWxldGUtY2FsZW5kYXJcIiBzdHlsZT1cIiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogLTVweDtcclxuICAgIHRvcDogMzNweDtcclxuICAgIGJhY2tncm91bmQ6IG5vLXJlcGVhdDtcIj4gPGltZyBzcmM9XCJpbWcvY2xvc2Utc3ZnLnN2Z1wiIGFsdD1cIlwiPiA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcclxuXHJcbiAgICAgICQoJyNjYWxlbmRhcicpLmFwcGVuZChodG1sKVxyXG5cclxufSlcclxuIFxyXG5cclxuICQoXCJib2R5XCIpLm9uKFwiY2xpY2tcIiwgXCIuZGVsZXRlLWNhbGVuZGFyXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAkKHRoaXMpLnBhcmVudChcImRpdlwiKS5yZW1vdmUoKTtcclxuXHJcbn0pO1xyXG4gJCgnYm9keScpLm9uKCdmb2N1cycsXCIudGltZXBpY2tcIiwgZnVuY3Rpb24oKXtcclxuICAgICQodGhpcykudGltZXBpY2tlcigpO1xyXG59KVxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBWaXNpYmxlIGV2ZW50byAgIFxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8gIFxyXG4kKCcubGluay10b2dnbGUnKS5jbGljayhmdW5jdGlvbihlKXtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgJCgnLnZpc2libGUnKS50b2dnbGUoIFwic2xvd1wiLCBmdW5jdGlvbigpIHtcclxuICAgIC8vIEFuaW1hdGlvbiBjb21wbGV0ZS5cclxuICB9KTtcclxufSlcclxuXHJcblxyXG4kKCcudmlzaWJsZS1ldmVudCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgJCgnI2lucHV0LXZpc2libGUnKS50b2dnbGUoIFwic2xvd1wiLCBmdW5jdGlvbigpIHtcclxuICAgIC8vIEFuaW1hdGlvbiBjb21wbGV0ZS5cclxuICB9KTtcclxufSlcclxuXHJcbiQoJy5yZXNlcnZhdGlvbi12aXNpYmxlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAkKCcjaGlkZS1yZXNlcnZhdGlvbicpLnRvZ2dsZSggXCJzbG93XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gQW5pbWF0aW9uIGNvbXBsZXRlLlxyXG4gIH0pO1xyXG59KVxyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBJbnB1dCBmaWxlIGpzXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyAgXHJcbnZhciBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLmlucHV0ZmlsZScgKTtcclxuQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCggaW5wdXRzLCBmdW5jdGlvbiggaW5wdXQgKVxyXG57XHJcbiAgdmFyIGxhYmVsICA9IGlucHV0Lm5leHRFbGVtZW50U2libGluZyxcclxuICAgIGxhYmVsVmFsID0gbGFiZWwuaW5uZXJIVE1MO1xyXG5cclxuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCAnY2hhbmdlJywgZnVuY3Rpb24oIGUgKVxyXG4gIHtcclxuICAgIHZhciBmaWxlTmFtZSA9ICcnO1xyXG4gICAgaWYoIHRoaXMuZmlsZXMgJiYgdGhpcy5maWxlcy5sZW5ndGggPiAxIClcclxuICAgICAgZmlsZU5hbWUgPSAoIHRoaXMuZ2V0QXR0cmlidXRlKCAnZGF0YS1tdWx0aXBsZS1jYXB0aW9uJyApIHx8ICcnICkucmVwbGFjZSggJ3tjb3VudH0nLCB0aGlzLmZpbGVzLmxlbmd0aCApO1xyXG4gICAgZWxzZVxyXG4gICAgICBmaWxlTmFtZSA9IGUudGFyZ2V0LnZhbHVlLnNwbGl0KCAnXFxcXCcgKS5wb3AoKTtcclxuXHJcbiAgICBpZiggZmlsZU5hbWUgKVxyXG4gICAgICBsYWJlbC5xdWVyeVNlbGVjdG9yKCAnc3BhbicgKS5pbm5lckhUTUwgPSBmaWxlTmFtZTtcclxuICAgIGVsc2VcclxuICAgICAgbGFiZWwuaW5uZXJIVE1MID0gbGFiZWxWYWw7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgIFNtb290aCBTY3JvbGwgQSBtZW51IGRhc2hcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnLml0ZW0tbGkgYVtocmVmXj1cIiNcIl0nKS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIHByZXZlbnQgaGFyZCBqdW1wLCB0aGUgZGVmYXVsdCBiZWhhdmlvclxyXG5cclxuICAgICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzKS5hdHRyKFwiaHJlZlwiKTsgLy8gU2V0IHRoZSB0YXJnZXQgYXMgdmFyaWFibGVcclxuXHJcbiAgICAgICAgLy8gcGVyZm9ybSBhbmltYXRlZCBzY3JvbGxpbmcgYnkgZ2V0dGluZyB0b3AtcG9zaXRpb24gb2YgdGFyZ2V0LWVsZW1lbnQgYW5kIHNldCBpdCBhcyBzY3JvbGwgdGFyZ2V0XHJcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKHRhcmdldCkub2Zmc2V0KCkudG9wXHJcbiAgICAgICAgfSwgNjAwLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IHRhcmdldDsgLy9hdHRhY2ggdGhlIGhhc2ggKCNqdW1wdGFyZ2V0KSB0byB0aGUgcGFnZXVybFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG4kKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNjcm9sbERpc3RhbmNlID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG5cclxuICAgIC8vIFNob3cvaGlkZSBtZW51IG9uIHNjcm9sbFxyXG4gICAgLy9pZiAoc2Nyb2xsRGlzdGFuY2UgPj0gODUwKSB7XHJcbiAgICAvLyAgICAkKCduYXYnKS5mYWRlSW4oXCJmYXN0XCIpO1xyXG4gICAgLy99IGVsc2Uge1xyXG4gICAgLy8gICAgJCgnbmF2JykuZmFkZU91dChcImZhc3RcIik7XHJcbiAgICAvL31cclxuICBcclxuICAgIC8vIEFzc2lnbiBhY3RpdmUgY2xhc3MgdG8gbmF2IGxpbmtzIHdoaWxlIHNjb2xsaW5nXHJcbiAgICAkKCcucGFnZS1zZWN0aW9uJykuZWFjaChmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykucG9zaXRpb24oKS50b3AgPD0gc2Nyb2xsRGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgJCgnLm5hdmlnYXRpb24gLmV4cGFuZC1kYXNoIGxpLmV4cGFuZC1hY3RpdmUnKS5yZW1vdmVDbGFzcygnZXhwYW5kLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKCcubmF2aWdhdGlvbiAuZXhwYW5kLWRhc2ggbGknKS5lcShpKS5hZGRDbGFzcygnZXhwYW5kLWFjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KS5zY3JvbGwoKTtcclxuXHJcblxyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICBGb3JtIGNvbnRyYXNlbmFcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovICBcclxuXHJcbiQoJyNjaGFuZ2UtY29udHJhc2VuYScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiBcclxuICAgJCgnI2hpZGUtY29udHJhc2VuYScpLnRvZ2dsZSggXCJzbG93XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gQW5pbWF0aW9uIGNvbXBsZXRlLlxyXG4gIH0pO1xyXG59KSIsIihmdW5jdGlvbiAoJCkge1xyXG5cclxuICAgICQuZm4uYW5pbWF0ZUNTUyA9IGZ1bmN0aW9uIChlZmZlY3QsIGRlbGF5LCBjYWxsYmFjaykge1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gdGhpcyB0byBtYWludGFpbiBjaGFpbmFiaWxpdHlcclxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENhY2hlICQodGhpcykgZm9yIHNwZWVkXHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBkZWxheSBleGlzdHMgb3IgaWYgaXQncyBhIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIGlmICghZGVsYXkgfHwgdHlwZW9mIGRlbGF5ID09ICdmdW5jdGlvbicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgY2FsbGJhY2ssIG1vdmUgaXQgdG8gY2FsbGJhY2sgc28gd2UgY2FuIGNhbGwgaXQgbGF0ZXJcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZGVsYXk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBkZWxheSB0byAwIGZvciB0aGUgc2V0VGltZW91dFxyXG4gICAgICAgICAgICAgICAgZGVsYXkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTdGFydCBhIGNvdW50ZXIgc28gd2UgY2FuIGRlbGF5IHRoZSBhbmltYXRpb24gaWYgcmVxdWlyZWRcclxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgYW5pbWF0aW9uIGVmZmVjdCB3aXRoIGNsYXNzZXNcclxuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdhbmltYXRlZCAnICsgZWZmZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZWxlbWVuciBoYXMgYmVlbiBoaWRkZW4gdG8gc3RhcnQgd2l0aFxyXG4gICAgICAgICAgICAgICAgaWYgKCR0aGlzLmNzcygndmlzaWJpbGl0eScpID09ICdoaWRkZW4nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGl0IGhhcywgc2hvdyBpdCAoYWZ0ZXIgdGhlIGNsYXNzIGhhcyBiZWVuIGFkZGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGhpZGRlblxyXG4gICAgICAgICAgICAgICAgaWYgKCR0aGlzLmlzKCc6aGlkZGVuJykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBpdFxyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnNob3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRXZlbnQgdHJpZ2dlcmVkIHdoZW4gdGhlIGFuaW1hdGlvbiBoYXMgZmluaXNoZWRcclxuICAgICAgICAgICAgICAgICR0aGlzLmJpbmQoJ3dlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQgb0FuaW1hdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgY2FsbGJhY2sgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNwZWNpZnkgdGhlIGRlbGF5XHJcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbn0pKGpRdWVyeSk7Il19
